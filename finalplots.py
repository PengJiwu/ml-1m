import numpy as np
import matplotlib.pyplot as plt

# 11
# Comparing \Primal, \Primalpp and \Collrank, MovieLens1m data, 200 ratings/user, rank 100, lambda = 5000
c_1t = [
[0, 0.014226, 25494550.188233, 0.356036, 0.457780],
[1, 31.899794, 18070075.054893, 0.204608, 0.745929],
[2, 63.818527, 18003042.186983, 0.202303, 0.748551],
[3, 95.764201, 17941598.161777, 0.198654, 0.758924],
[4, 127.712485, 17795889.030501, 0.191464, 0.770918],
[5, 159.593582, 17747357.739165, 0.188805, 0.777788],
[6, 191.480352, 17700173.424462, 0.185636, 0.785190],
[7, 223.383548, 17670627.306505, 0.183271, 0.790773],
[8, 255.260254, 17658315.151481, 0.181983, 0.794647],
[9, 287.112158, 17651657.855200, 0.181323, 0.797104],
[10, 318.963556, 17647637.443278, 0.181058, 0.797377],
[11, 350.816773, 17645063.647047, 0.180819, 0.798198],
[12, 382.784562, 17643224.088021, 0.180650, 0.798650],
[13, 414.794234, 17641906.343370, 0.180537, 0.798840],
[14, 446.792886, 17640992.346403, 0.180409, 0.798986],
[15, 478.783363, 17640355.917973, 0.180343, 0.798981],
[16, 510.805560, 17639894.213451, 0.180290, 0.799042],
[17, 542.777494, 17639542.296452, 0.180277, 0.798968],
[18, 574.638806, 17639265.309337, 0.180208, 0.799136],
[19, 606.493601, 17639045.335300, 0.180220, 0.798965],
[20, 638.350998, 17638871.221516, 0.180196, 0.799108]
]

w_1c = [
[0, 0.0, 3.4923972344709754e7, 0.3510205089577718, 0.4753335862187586],
[1, 5.332196085, 2.065018648247157e7, 0.23643604844121305, 0.733801658808334],
[2, 13.091907170999999, 1.7919937083181847e7, 0.1927016951718535, 0.7781138146180607],
[3, 21.811701022, 1.7707365601119094e7, 0.18474258794462156, 0.7910377289550884],
[4, 31.334984936, 1.7663148705281977e7, 0.18201973339141664, 0.796294944993741],
[5, 40.746903716000006, 1.764978595047792e7, 0.1809857839424875, 0.7980915688394775],
[6, 49.387522897000004, 1.7644575966865093e7, 0.18045180573422978, 0.7994476981028341],
[7, 58.007118238000004, 1.7642084638151847e7, 0.1802438940370599, 0.7994307352179486],
[8, 65.99910661, 1.764072544686018e7, 0.1801828890743176, 0.7995226071699875],
[9, 73.874508049, 1.7639913387628738e7, 0.18009714037256452, 0.7994483908820548],
[10, 81.066998735, 1.7639394567674518e7, 0.18006125722267952, 0.7995192587547784],
[11, 88.963728929, 1.7639045468658887e7, 0.18004377492931398, 0.7993668362434537],
[12, 96.111140754, 1.7638800772987466e7, 0.1800488808296141, 0.7993365503582156],
[13, 103.38127204700001, 1.763862346178225e7, 0.18003996064359473, 0.7992946859162385],
[14, 110.657706821, 1.763849138721964e7, 0.18002141814511022, 0.7993777123325684],
[15, 117.92603502300001, 1.763839069198585e7, 0.1800447959942229, 0.7993090974153798],
[16, 125.15525162000002, 1.7638312377446912e7, 0.18005663149272694, 0.7992865959409045],
[17, 132.34415090500002, 1.7638250413392056e7, 0.18006222649187578, 0.7992638469850094],
[18, 139.55790316500003, 1.7638200646258056e7, 0.18006452751016358, 0.7994079770398347],
[19, 146.67374746300004, 1.7638160146403465e7, 0.180072617302539, 0.799448248521254],
[20, 153.82586990900003, 1.763812680276606e7, 0.1800671486306438, 0.7994139929314301]
]

w2_1c = [
[0, 0.0, 3.4923972344714075e7, 0.3510205089577718, 0.4753335862187586],
[1, 3.890737663, 2.0650186482471567e7, 0.23643604844121305, 0.733801658808334],
[2, 9.871741794, 1.7919937083181843e7, 0.1927016951718535, 0.7781138146180607],
[3, 16.307962327, 1.7707365601119082e7, 0.18474258794462156, 0.7910377289550884],
[4, 23.579663728, 1.7663148705281988e7, 0.18201973339141664, 0.796294944993741],
[5, 30.033057022, 1.7649785950477924e7, 0.1809857839424875, 0.7980915688394775],
[6, 35.415093025000004, 1.7644575966865093e7, 0.18045180573422978, 0.7994476981028341],
[7, 41.291073448000006, 1.764208463815185e7, 0.1802438940370599, 0.7994307352179486],
[8, 46.59924277100001, 1.7640725446860168e7, 0.1801828890743176, 0.7995226071699875],
[9, 51.662319999000005, 1.7639913387628738e7, 0.18009714007327338, 0.7994483908820548],
[10, 56.594536711, 1.7639394567674506e7, 0.18006125722267952, 0.7995192587547784],
[11, 61.765958399000006, 1.7639045468658887e7, 0.18004377492931398, 0.7993668362434537],
[12, 66.675016196, 1.7638800772987455e7, 0.1800488808296141, 0.7993365503582156],
[13, 71.698221738, 1.7638623461782254e7, 0.18003996064359473, 0.7992946859162385],
[14, 75.916974961, 1.7638491387219645e7, 0.18002141814511022, 0.7993777123325684],
[15, 80.132229568, 1.7638390691985846e7, 0.1800447959942229, 0.7993090974153798],
[16, 84.29285501, 1.7638312377446916e7, 0.18005663149272694, 0.7992865959409045],
[17, 89.019792915, 1.763825041339206e7, 0.18006222649187578, 0.7992638469850094],
[18, 94.230977895, 1.763820064625806e7, 0.18006452751016358, 0.7994079770398347],
[19, 99.580065769, 1.7638160146403477e7, 0.180072617302539, 0.799448248521254],
[20, 104.26664986, 1.7638126802766066e7, 0.1800671486306438, 0.7994139929314301]
]

cofi = [
[0.00014, 0.482976],
[72.272, 0.685476],
[117.217, 0.684809],
[162.149, 0.684795],
[206.997, 0.684796]
]

mf = [
[0, 0.0, 3.4191972725450546e7, 0.35202999379852923, 0.4763131622828593, 10.619314407849162, 10.681562146543591],
[3000000, 32.272343095998714, 3.730574294766411e6, 0.3117509004338618, 0.5779369810088751, 3.5286775088690785, 3.5247994186780005],
[6000000, 62.99232206499595, 3.266954004552396e6, 0.26002063570069794, 0.6831568011377146, 3.303770362250964, 3.3249212599774416],
[9000000, 106.27412967297097, 3.2821846290875324e6, 0.25593767335322215, 0.6867369709768765, 3.311890153089494, 3.32046324092373],
[12000000, 151.54244234698427, 3.2818005722735147e6, 0.2554235878500822, 0.6857216189402646, 3.3117904624238887, 3.3127483178282535],
[15000000, 189.14526842705308, 3.2837872648305297e6, 0.25370467571233535, 0.6850593494594758, 3.3128141610606896, 3.317043819002298],
[18000000, 223.0792916491464, 3.2768984833796276e6, 0.2537086622866968, 0.6898535923058636, 3.3093410556405325, 3.3140569159731816],
[21000000, 261.3457918642699, 3.273848763622696e6, 0.2541609259784852, 0.6903114499746552, 3.3078012756226407, 3.309445798843225],
[24000000, 304.1246854359947, 3.2740053033421314e6, 0.2525557418223844, 0.6966244142785409, 3.3078800325322018, 3.309357705122209],
[27000000, 336.864483776663, 3.271627878516647e6, 0.25356762820924966, 0.6902803073383952, 3.3066782894453803, 3.309206226041298],
[30000000, 357.9032429903517, 3.2734732319417e6, 0.25274458645181225, 0.6883824672427178, 3.3076109752536804, 3.3086499813655994],
[33000000, 401.4408755963106, 3.2667765978991976e6, 0.25335846510954974, 0.6922022295212393, 3.3042251130595655, 3.306692506347152],
[36000000, 442.4043716530162, 3.2654983990204344e6, 0.25215945673209716, 0.6932965728415247, 3.303578533958784, 3.307328358589428],
[39000000, 476.55632419640904, 3.267635801820469e6, 0.25218396501647977, 0.6953478709064481, 3.304659789637572, 3.308017498143998]
]

cofi = np.array(cofi)
mf = np.array(mf)
c_1t = np.array(c_1t)
w_1c = np.array(w_1c)
w2_1c = np.array(w2_1c)

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,4], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,4], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,4], 'm:', linewidth=2, label='Collrank 1 core')
ax.plot(cofi[:,0], cofi[:,1], '-go', linewidth=2, label='Cofirank 1 core')
ax.plot(mf[:,1], mf[:,4], 'k-.', linewidth=2, label='MF 1 core')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 200, 0.3, 0.85])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,3], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,3], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,3], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 200, 0.15, 0.4])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,2], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,2], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,2], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 200, 1.5e7, 4e7])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()



# 12
# Comparing \Primal, \Primalpp and \Collrank, MovieLens10m data, 500 ratings/user, rank 100, lambda = 7000

c_1t = [
[0, 0.180743, 423548819.048717, 0.389522, 0.273225],
[1, 966.943761, 256114070.393846, 0.213814, 0.596030],
[2, 1959.672376, 220438479.731390, 0.187770, 0.666077],
[3, 3209.017995, 205343697.907428, 0.192710, 0.647136],
[4, 4355.474008, 201368965.939973, 0.191985, 0.653809]
]

w_1c = [
[0, 0.0, 5.902166560936847e8, 0.3886464107151499, 0.2758558730643191],
[1, 91.183635123, 2.625504453018211e8, 0.2438340458412661, 0.5865134472392063],
[2, 236.51416766300002, 2.1644040346117353e8, 0.1955717705280547, 0.6466068907173471],
[3, 396.49755062, 2.0619807551015484e8, 0.1924529567094535, 0.6522400951782721],
[4, 558.40830641, 2.0248196065562502e8, 0.19131034391974414, 0.6559313127268721],
[5, 722.5928240630001, 2.0077125573132166e8, 0.1909964007186548, 0.6572331155665702]
]

w2_1c = [
[0, 0.0, 5.902166560935967e8, 0.3886464107151499, 0.2758558730643191],
[1, 39.210486939, 2.6255044530182084e8, 0.2438340458412661, 0.5865134472392063],
[2, 99.21149757399999, 2.1644040346117392e8, 0.1955717705280547, 0.6466068907173471],
[3, 157.93937963399998, 2.0619807551015493e8, 0.1924529567094535, 0.6522400951782721],
[4, 215.77287086399997, 2.024819606556246e8, 0.19131034391974414, 0.6559313127268721],
[5, 274.47675737799995, 2.0077125573132145e8, 0.1909964007186548, 0.6572331155665702],
[6, 333.3754120489999, 1.9982484003226712e8, 0.1909394969456311, 0.6568724957923184],
[7, 390.2397345879999, 1.9923409687049478e8, 0.19102379579032389, 0.6569162950535602],
[8, 447.63957663199994, 1.9883503811922944e8, 0.19109535510584366, 0.6566286306180434],
[9, 502.59800476099997, 1.98549246395797e8, 0.19122522793858035, 0.6563026944470798],
[10, 556.246338489, 1.983351058455485e8, 0.19126306211842772, 0.6565677504307905],
[11, 612.535610744, 1.9816913961160746e8, 0.19129656523145205, 0.6566405632565935],
[12, 666.572150443, 1.9803696139308485e8, 0.1913304139786772, 0.6559917665225586],
[13, 720.526850187, 1.9792959475749466e8, 0.1914052283388594, 0.6566415470985729],
[14, 774.186568618, 1.978408828958352e8, 0.19147235340933172, 0.6569668041939772]
]

#[0.000152, 0.290692],
#[5694.07, 0.405759],
#[12311.4, 0.489944]
#]

cofi = [
[0.000125, 0.290692],
[822.741, 0.53688],
[1373.53, 0.55167],
[1870.67,0.553639]
]

mf = [
[0, 0.0, 2.6494286653074554e8, 0.38982832288672903, 0.2715668713054135, 12.18492704627672, 12.227360687312592],
[10000000, 65.35302444398816, 8.796749837844166e7, 0.38883201355097086, 0.2759493807722365, 7.036906720429172, 6.921459692075252],
[20000000, 132.37594571504457, 8.771821799552092e7, 0.38923682605208654, 0.2736877932201328, 7.03169169208576, 6.916365560335177],
[30000000, 206.28956385376674, 8.752824834035018e7, 0.3892251669750079, 0.27851849396216344, 7.027555690789558, 6.912647794231341],
[40000000, 280.20767701404657, 8.734375680909471e7, 0.3871280002526884, 0.27959085854219884, 7.02268951603676, 6.908398800412834],
[50000000, 354.5305992850701, 8.71055615780988e7, 0.38442450417364976, 0.28369520353226724, 7.014964084951621, 6.902302871946177],
[60000000, 429.09287509688477, 8.664361755191028e7, 0.3745860096583695, 0.31079828784850916, 6.997685905383832, 6.888449155208102],
[70000000, 503.1268320788604, 8.56281389440927e7, 0.3550257534958071, 0.3670962859566605, 6.957524891262502, 6.858084799281063],
[80000000, 577.528341665845, 8.303238396607909e7, 0.3284887303145221, 0.4529636266594655, 6.851921593029009, 6.782111180148141],
[90000000, 652.4200315014859, 7.829423838594599e7, 0.316200649424803, 0.4875631408386731, 6.65399158815161, 6.628740204613998],
[100000000, 726.7856460869413, 7.327518846820366e7, 0.3119143303451476, 0.500560329252942, 6.437499184367735, 6.477022083840092],
[110000000, 800.6119868672831, 7.049750701526222e7, 0.3104978222762215, 0.5021290878194652, 6.314572491987583, 6.385055267363153],
[120000000, 866.2759814720622, 6.872249051254594e7, 0.3098374913104622, 0.5102860788620457, 6.234779354744664, 6.325698688497998],
[130000000, 930.2647463897626, 6.813912076965791e7, 0.31017052162409847, 0.5019737686737739, 6.208426384122818, 6.304077042046662],
[140000000, 994.7979481164484, 6.794816823788692e7, 0.3098384873915219, 0.5012402792289653, 6.1998466175022475, 6.298096697200862],
[150000000, 1066.4370716403566, 6.783584206377192e7, 0.3099811423925272, 0.5097857718232424, 6.194813041746939, 6.2998446508217985],
[160000000, 1138.8860222853818, 6.786794136846916e7, 0.31044701027804966, 0.5125478367893033, 6.196347752110026, 6.299690552144362],
[170000000, 1211.3361754539044, 6.743441627328357e7, 0.31015123083528223, 0.5099993964345291, 6.17657478050699, 6.2878319447508595],
[180000000, 1284.4279158839636, 6.769441778020461e7, 0.3102487672524707, 0.5084191163901364, 6.188509019168483, 6.293290122257867],
[190000000, 1357.139019543071, 6.734435319355734e7, 0.31029322895882194, 0.5086072321149598, 6.172513789794456, 6.2737621945836555],
[200000000, 1430.5304800443284, 6.75223664446108e7, 0.31020193541034924, 0.5081402812115198, 6.180687192239268, 6.290463621658028],
[210000000, 1502.7116202422865, 6.75183253279846e7, 0.31002716340504666, 0.5072235851953996, 6.180517268653517, 6.282103564031997],
[220000000, 1574.1213423682916, 6.75163789241335e7, 0.30966370975505136, 0.5107412974128296, 6.1804392878833845, 6.2843118232391335],
[230000000, 1645.5556300151827, 6.735031405341025e7, 0.3098639950207417, 0.5082569131048961, 6.172841762988785, 6.281754666508897],
[240000000, 1717.4052154925316, 6.732190627723813e7, 0.3103515428919683, 0.5027751405327635, 6.1715457274193, 6.281605270029123],
[250000000, 1789.006943812723, 6.759056907044223e7, 0.3104022214932512, 0.503149474862459, 6.183852679238811, 6.290060850863924],
[260000000, 1862.4490494218803, 6.728172076749514e7, 0.3098775289081702, 0.504233430923712, 6.169710801054047, 6.2794126776521235],
[270000000, 1935.2331705849047, 6.755455347061445e7, 0.3095651914291299, 0.5146984246455707, 6.1822104896814185, 6.2837593179282605],
[280000000, 2008.1835168369676, 6.748607084655704e7, 0.30938093864503613, 0.5086534728962067, 6.1790777706379485, 6.278651812577548],
[290000000, 2080.9967627063547, 6.735875548142475e7, 0.3094432255303815, 0.5085088565209813, 6.173247545037523, 6.283775455462035],
[300000000, 2153.53894751616, 6.75251487996743e7, 0.30931023158953497, 0.5105317074209057, 6.180868665008077, 6.280586429155187],
[310000000, 2225.9244696955398, 6.744191341802545e7, 0.30904694323524046, 0.5100342880712164, 6.177058596376619, 6.277068882648504],
[320000000, 2298.503288986116, 6.751556469719978e7, 0.3093133861657597, 0.5063151538798873, 6.180431336180083, 6.286425971849843],
[330000000, 2371.391974795674, 6.737220515967178e7, 0.30951006761144695, 0.5094908727289739, 6.173866351294524, 6.284195781615942],
[340000000, 2443.9204761730084, 6.777112280710931e7, 0.3094024361032551, 0.5071123708246876, 6.192118345617113, 6.291998410965514],
[350000000, 2516.1820138474195, 6.743578119000196e7, 0.3097750387368643, 0.5108022207973113, 6.1767792833782424, 6.287722883645393],
[360000000, 2588.7259827708112, 6.757358166965812e7, 0.30964228418710543, 0.5043666039559683, 6.183087303189405, 6.2874233664289525],
[370000000, 2661.022547841611, 6.762806866546819e7, 0.30961640248280775, 0.5080825550061373, 6.185579654964331, 6.284370974773461],
[380000000, 2733.1133861184785, 6.725813840917994e7, 0.3096280527464326, 0.507292356689112, 6.168638194355202, 6.278350522035948],
[390000000, 2808.0782675796786, 6.726268766303816e7, 0.3096458420479817, 0.5032300893803253, 6.168846856331093, 6.278447308454539],
[400000000, 2882.320866476555, 6.755724334267172e7, 0.3098819442896815, 0.5101678763655956, 6.182339856519389, 6.2838450640919445],
[410000000, 2948.8462571494124, 6.781667965746462e7, 0.30984435201102833, 0.5083879731181592, 6.194200031808584, 6.291944411242476],
[420000000, 3015.633499810135, 6.754027737381776e7, 0.30958532485806495, 0.5064164156221275, 6.181563800906344, 6.2834650176372095],
[430000000, 3081.2367293668685, 6.74080735873968e7, 0.3098000848751903, 0.5064438309984335, 6.175510668360322, 6.270493445430319],
[440000000, 3149.2610611378823, 6.72455216696159e7, 0.30980979852610246, 0.5063588316714074, 6.168060026404564, 6.274124813977066]
]

cofi = np.array(cofi)
c_1t = np.array(c_1t)
w_1c = np.array(w_1c)
w2_1c = np.array(w2_1c)
mf = np.array(mf)



fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,4], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,4], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,4], 'm:', linewidth=2, label='Collrank 1 core')
ax.plot(cofi[:,0], cofi[:,1], '-go', linewidth=2, label='Cofirank 1 core')
ax.plot(mf[:,1], mf[:,4], 'k-.', linewidth=2, label='MF 1 core')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 3000, 0, 0.75])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,3], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,3], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,3], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 3000, 0.15, 0.45])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,2], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,2], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,2], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 3000, 1.5e8, 6.5e8])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

# 13
# Comparing \Primal, \Primalpp and \Collrank, Netflix data, 200 ratings/user, rank 100, lambda = 10000
w2_1c = [
[0, 0.0, 2.7754824483000426e9, 0.33897966421164927, 0.49844107406957067],
[1, 855.970643822, 1.9136999202755694e9, 0.2526987104114029, 0.7071178796147436],
[2, 1722.978107525, 1.3777587718341937e9, 0.19066884226386366, 0.7944758551005886],
[3, 2660.05200043, 1.2843419831558638e9, 0.18568948251488562, 0.7947537935003905],
[4, 3541.54319307, 1.2673784318285406e9, 0.182881819099553, 0.7985451627289263],
[5, 4487.424007285, 1.2601755851697772e9, 0.18102062703877383, 0.8020080714799256],
[6, 5484.002218845, 1.2561931243044152e9, 0.17989061800754147, 0.8044051937338988],
[7, 6411.59385485, 1.2536665384854093e9, 0.17916698270909287, 0.8061631293957917],
[8, 7373.275198941999, 1.251907283897667e9, 0.17866040656225515, 0.80744678283374]
]

w_1c = [
[0, 0.0, 2.7754824482995534e9, 0.33897966421164927, 0.49844107406957067],
[1, 1070.144303483, 1.9139686645054314e9, 0.2526986029777938, 0.7071191628757021],
[2, 2952.678076598, 1.3780275160640373e9, 0.1906686910354331, 0.7944758307912962],
[3, 5043.851356716001, 1.2846107273857462e9, 0.1856893802827637, 0.7947540760577223],
[4, 6959.0090204670005, 1.2676471760583866e9, 0.1828817423550167, 0.7985454695955504],
[5, 8385.430786538, 1.2604443293996606e9, 0.18102055528016353, 0.8020083540372572],
[6, 9832.507603091999, 1.256461868534279e9, 0.17989057610099593, 0.804405500600523],
[7, 11431.894380889999, 1.25393528271528e9, 0.17916692963122213, 0.8061634362624159],
[8, 13202.126772890999, 1.252176028127495e9, 0.17866036289605272, 0.8074470653910719],
[9, 14751.056773834998, 1.2508719527688234e9, 0.17828702945981834, 0.8084046916645529],
[10, 16252.528658459998, 1.2498636460687366e9, 0.17800752002522163, 0.8092185596441203],
[11, 17725.760844538, 1.2490605644060166e9, 0.17778805637326392, 0.8098311875897057],
[12, 19197.140947875, 1.2484065792339487e9, 0.17761757682777865, 0.810342565298811],
[13, 20673.977561652, 1.247864524441093e9, 0.1774704837404785, 0.8108110740462484],
[14, 22132.497498724, 1.2474085764040554e9, 0.1773517193918157, 0.8111565523149337],
[15, 23616.058209102997, 1.2470202172723153e9, 0.1772549856966687, 0.8114565883351511],
[16, 25094.477754048, 1.2466858281947885e9, 0.17717152164694858, 0.8116387810189832],
[17, 26573.320459312, 1.246395141232389e9, 0.1770989448078973, 0.8118585819835681],
[18, 28035.538550667, 1.2461403094980571e9, 0.1770400735032576, 0.8120151535802075],
[19, 29504.198860296998, 1.2459152168066962e9, 0.17698808623547127, 0.8121926162143244],
[20, 30954.019169653, 1.2457150324717607e9, 0.1769454295255306, 0.8122989572179503]
]

c_1t = [
[0, 0.401708, 2201412184.583276, 0.337697, 0.490893],
[1, 6616.716144, 1683113561.053637, 0.213025, 0.764036],
[2, 12759.871696, 1452989287.275296, 0.191212, 0.780508],
[3, 18725.925560, 1303476191.037700, 0.189037, 0.770062],
[4, 23806.626113, 1268880225.458385, 0.184415, 0.788689],
[5, 28850.649082, 1259505012.885172, 0.181414, 0.797953],
[6, 33647.406625, 1255076917.004290, 0.180090, 0.801946],
[7, 38359.994691, 1252486961.059306, 0.179294, 0.804532],
[8, 43016.675272, 1250785627.910584, 0.178752, 0.806205],
[9, 47573.546677, 1249574203.271779, 0.178376, 0.807510],
[10, 52167.094805, 1248660472.619510, 0.178091, 0.808444]
]

c_1t = np.array(c_1t)
w_1c = np.array(w_1c)
w2_1c = np.array(w2_1c)

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,4], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,4], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,4], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 24000, 0.45, 0.85])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()


fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,3], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,3], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,3], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 24000, 0.15, 0.45])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,2], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,2], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,2], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 24000, 1.0e9, 3.5e9])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

# 21
# Comparing parallel version of \Primal and \Collrank, MovieLens10m data, 500 ratings/user, rank 100, lambda = 7000

c_8t = [
[0, 0.172671, 423569874.286366, 0.387794, 0.270276],
[1, 167.900662, 256290099.517283, 0.214414, 0.593757],
[2, 327.668976, 220399227.488486, 0.188643, 0.662968],
[3, 485.433874, 205371520.993825, 0.193158, 0.646608],
[4, 640.242916, 201409673.742713, 0.192271, 0.652576]
]

w_8c = [
[0, 0.0, 5.902166560936844e8, 0.38864641071514966, 0.2758558730643181],
[1, 35.490865595, 2.6255044530182102e8, 0.24383404584126603, 0.5865134472392066],
[2, 81.750248056, 2.1644040346117392e8, 0.19557177052805444, 0.6466068907173494],
[3, 137.155899734, 2.0619807551015505e8, 0.19245295670945337, 0.652240095178272],
[4, 184.436720912, 2.0248211321822715e8, 0.19130915977747753, 0.6559228449905797],
[5, 231.585666289, 2.0077123742057288e8, 0.1909980421336187, 0.6572606623066698],
[6, 281.563712442, 1.998248252531421e8, 0.1909407729729401, 0.6568839252783671],
[7, 341.377647451, 1.9923408856211737e8, 0.19102117354962617, 0.6568625517480622],
[8, 408.517281573, 1.9883503435341763e8, 0.1910947792594329, 0.6565783016273545],
[9, 477.166769789, 1.9854924494024134e8, 0.1912255372056071, 0.6562982357840318],
[10, 547.432604799, 1.9833510551575786e8, 0.1912595091825495, 0.6565649558351667],
[11, 601.6147567620001, 1.9816914005815253e8, 0.19129546917757903, 0.6566854142315832],
[12, 655.3005364620001, 1.980369624405972e8, 0.19133244950093278, 0.655953020479399],
[13, 711.13814248, 1.9792959653923962e8, 0.19140857103350592, 0.6566274240331057],
[14, 767.166716726, 1.978408854325377e8, 0.19147577223667211, 0.6569914819296959],
[15, 821.531523116, 1.977665132549425e8, 0.1915554824556167, 0.6567639057983353],
[16, 876.4433338480001, 1.9770331657194605e8, 0.19161879504800647, 0.6565174239370359],
[17, 934.2970079950001, 1.976490897884403e8, 0.1916407771819463, 0.6559261843951616]
]

c_8t = np.array(c_8t)
w_8c = np.array(w_8c)

fig, ax = plt.subplots()
ax.plot(w_8c[:,1], w_8c[:,4], 'r', linewidth=2, label='Primal-CR 8 cores')
ax.plot(c_8t[:,1], c_8t[:,4], 'c--', linewidth=2, label='Collrank 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 700, 0, 0.75])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_8c[:,1], w_8c[:,3], 'r', linewidth=2, label='Primal-CR 8 cores')
ax.plot(c_8t[:,1], c_8t[:,3], 'c--', linewidth=2, label='Collrank 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 700, 0.15, 0.45])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_8c[:,1], w_8c[:,2], 'r', linewidth=2, label='Primal-CR 8 cores')
ax.plot(c_8t[:,1], c_8t[:,2], 'c--', linewidth=2, label='Collrank 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 700, 1.5e8, 6.5e8])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

# 22
# Speedup of \Primal, MovieLens10m data, 500 ratings/user, rank 100, lambda = 7000
w_1c = [
[0, 0.0, 5.902166560936847e8, 0.3886464107151499, 0.2758558730643191],
[1, 91.183635123, 2.625504453018211e8, 0.2438340458412661, 0.5865134472392063],
[2, 236.51416766300002, 2.1644040346117353e8, 0.1955717705280547, 0.6466068907173471],
[3, 396.49755062, 2.0619807551015484e8, 0.1924529567094535, 0.6522400951782721],
[4, 558.40830641, 2.0248196065562502e8, 0.19131034391974414, 0.6559313127268721],
[5, 722.5928240630001, 2.0077125573132166e8, 0.1909964007186548, 0.6572331155665702]
]

w_4c = [
[0, 0.0, 5.902166560936844e8, 0.38864641071515, 0.275855873064318],
[1, 37.415012206, 2.6255044530182096e8, 0.2438340458412662, 0.5865134472392064],
[2, 101.855683321, 2.1644040346117398e8, 0.19557177052805447, 0.6466068907173493],
[3, 167.54917495, 2.0619807550356698e8, 0.19245295670945337, 0.6522400951782722],
[4, 231.747492394, 2.0248196065424937e8, 0.19131034364032, 0.6559313127268719],
[5, 294.199105403, 2.0077125572907144e8, 0.19099640073068272, 0.6572331155665718],
[6, 359.843757267, 1.99824933187959e8, 0.19094516939076153, 0.6568178383050457]
]

w_8c = [
[0, 0.0, 5.902166560936844e8, 0.38864641071514966, 0.2758558730643181],
[1, 35.490865595, 2.6255044530182102e8, 0.24383404584126603, 0.5865134472392066],
[2, 81.750248056, 2.1644040346117392e8, 0.19557177052805444, 0.6466068907173494],
[3, 137.155899734, 2.0619807551015505e8, 0.19245295670945337, 0.652240095178272],
[4, 184.436720912, 2.0248211321822715e8, 0.19130915977747753, 0.6559228449905797],
[5, 231.585666289, 2.0077123742057288e8, 0.1909980421336187, 0.6572606623066698],
[6, 281.563712442, 1.998248252531421e8, 0.1909407729729401, 0.6568839252783671],
[7, 341.377647451, 1.9923408856211737e8, 0.19102117354962617, 0.6568625517480622],
[8, 408.517281573, 1.9883503435341763e8, 0.1910947792594329, 0.6565783016273545],
[9, 477.166769789, 1.9854924494024134e8, 0.1912255372056071, 0.6562982357840318],
[10, 547.432604799, 1.9833510551575786e8, 0.1912595091825495, 0.6565649558351667],
[11, 601.6147567620001, 1.9816914005815253e8, 0.19129546917757903, 0.6566854142315832],
[12, 655.3005364620001, 1.980369624405972e8, 0.19133244950093278, 0.655953020479399],
[13, 711.13814248, 1.9792959653923962e8, 0.19140857103350592, 0.6566274240331057],
[14, 767.166716726, 1.978408854325377e8, 0.19147577223667211, 0.6569914819296959],
[15, 821.531523116, 1.977665132549425e8, 0.1915554824556167, 0.6567639057983353],
[16, 876.4433338480001, 1.9770331657194605e8, 0.19161879504800647, 0.6565174239370359],
[17, 934.2970079950001, 1.976490897884403e8, 0.1916407771819463, 0.6559261843951616]
]

w_1c = np.array(w_1c)
w_4c = np.array(w_4c)
w_8c = np.array(w_8c)

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,4], 'b:', linewidth=3, label='Primal-CR 1 core')
ax.plot(w_4c[:,1], w_4c[:,4], 'r--', linewidth=3, label='Primal-CR 4 cores')
ax.plot(w_8c[:,1], w_8c[:,4], 'c', linewidth=3, label='Primal-CR 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 700, 0, 0.75])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,3], 'b:', linewidth=3, label='Primal-CR 1 core')
ax.plot(w_4c[:,1], w_4c[:,3], 'r--', linewidth=3, label='Primal-CR 4 cores')
ax.plot(w_8c[:,1], w_8c[:,3], 'c', linewidth=3, label='Primal-CR 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 700, 0.15, 0.45])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,2], 'b:', linewidth=3, label='Primal-CR 1 core')
ax.plot(w_4c[:,1], w_4c[:,2], 'r--', linewidth=3, label='Primal-CR 4 cores')
ax.plot(w_8c[:,1], w_8c[:,2], 'c', linewidth=3, label='Primal-CR 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 700, 1.5e8, 6.5e8])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

# 31
# Varies number of ratings per user in training data, MovieLens1m, rank 100, lambda = 5000
c100 = [
[0, 0.026573, 20493766.354429, 0.347550, 0.821455],
[1, 21.240566, 11943636.097843, 0.223105, 0.894959],
[2, 43.370973, 11872038.989402, 0.232038, 0.890045],
[3, 67.226583, 11844740.201489, 0.232561, 0.889787],
[4, 91.574483, 11839794.391866, 0.230802, 0.890671],
[5, 119.784221, 11839396.612699, 0.230434, 0.890852],
[6, 144.977448, 11839361.110977, 0.230401, 0.890891]
]

c200 = [
[0, 0.035494, 40826353.117932, 0.345754, 0.826788],
[1, 60.309774, 28323496.740011, 0.215710, 0.896729],
[2, 122.656092, 28188142.654277, 0.215559, 0.896964],
[3, 183.390610, 27948317.668610, 0.209047, 0.901554],
[4, 247.419412, 27684736.041036, 0.203113, 0.904810],
[5, 308.719500, 27521864.755220, 0.198385, 0.907726],
[6, 370.647689, 27449817.679593, 0.196115, 0.909600],
[7, 429.326140, 27413645.838018, 0.195081, 0.910184],
[8, 488.620936, 27392920.616412, 0.194643, 0.910704],
[9, 545.980129, 27380481.056378, 0.194437, 0.911137],
[10, 606.212148, 27373129.215408, 0.194415, 0.911045],
[11, 666.625563, 27368633.412996, 0.194294, 0.911080]
]

cALL = [
[0, 0.027514, 138708145.906208, 0.339713, 0.827200],
[1, 277.584344, 87315833.848825, 0.210530, 0.898999],
[2, 568.460727, 81292677.328884, 0.199047, 0.907602],
[3, 882.662012, 72425778.869140, 0.202351, 0.906175],
[4, 1245.207071, 62144180.668596, 0.193385, 0.910424]
]

w100 = [
[0, 0.0, 3.734650223682237e7, 0.3439072847682103, 0.8245657592449451],
[1, 4.654531746, 1.2408633140403587e7, 0.28536423841059505, 0.8675941516746746],
[2, 9.162732944, 1.2102989838173248e7, 0.2333112582781459, 0.8907663741739291],
[3, 14.417036667, 1.191705365677037e7, 0.2357468727005149, 0.8886259270528043],
[4, 19.689413762, 1.1846436418400146e7, 0.2317071376011774, 0.8903705804923184],
[5, 25.60725453, 1.184002390268666e7, 0.23023546725533509, 0.890924638031281],
[6, 31.60608589, 1.1839523268606711e7, 0.22984547461368657, 0.891232192486661],
[7, 37.494323, 1.1839457487330996e7, 0.22977924944812378, 0.891276834793897],
[8, 43.210875902, 1.183943757280106e7, 0.22978660779985305, 0.8912972503142647],
[9, 48.406863011, 1.183942709861049e7, 0.22984179543782232, 0.891251795694114],
[10, 53.020790988, 1.1839419914672384e7, 0.22989698307579148, 0.891205032734546],
[11, 57.379368331, 1.183941425736879e7, 0.22993745401030213, 0.8911554844631295]
]

w200 = [
[0, 0.0, 5.8049616055231035e7, 0.3439072847682103, 0.8245657592449451],
[1, 9.757336744, 3.213352531497197e7, 0.25478660779985257, 0.8820313019224842],
[2, 22.40471945, 2.7826690976597395e7, 0.20522442972774235, 0.9044514335780212],
[3, 37.529653654, 2.7475783963489532e7, 0.1972663723325992, 0.9089250682846542],
[4, 52.216685983000005, 2.740663684749367e7, 0.19531272994849364, 0.9101369495572795],
[5, 67.006075983, 2.7382775369273018e7, 0.19443708609271718, 0.9107035921052952],
[6, 82.119501903, 2.7371949167126328e7, 0.1942126563649764, 0.9108643206083561],
[7, 97.215373525, 2.7366271489146393e7, 0.1940691685062568, 0.910926455289566],
[8, 111.153091281, 2.736298147777179e7, 0.19401030169242306, 0.9108875981056551]
] 

wALL = [
[0, 0.0, 1.5787294622003922e8, 0.3439072847682103, 0.8245657592449451],
[1, 16.838782364, 7.884246681077342e7, 0.21435246504782995, 0.8994066741437412],
[2, 38.772525341000005, 6.53191813175356e7, 0.19364974245769162, 0.9108583532659081],
[3, 60.673207007, 6.300950680772695e7, 0.19218910963944255, 0.9115223240518884],
[4, 83.067443064, 6.214459702054203e7, 0.19168874172185638, 0.9120519797784649],
[5, 105.110683809, 6.171943619489321e7, 0.19194260485651438, 0.9119003852860007],
[6, 126.920255505, 6.1473324943159536e7, 0.191839587932305, 0.9118454939158542],
[7, 148.762825883, 6.131631733600023e7, 0.19175864606328355, 0.9121058940098972],
[8, 170.84200051300002, 6.1209042315050095e7, 0.19194260485651402, 0.9119736964341848],
[9, 192.42396462000002, 6.1131670408168614e7, 0.19198675496688936, 0.9118639407079202],
[10, 214.220929836, 6.107335802305245e7, 0.19181751287711704, 0.9118319020374701],
[11, 236.16476743700002, 6.102781495209712e7, 0.1919941133186177, 0.91177859167287],
[12, 257.985821514, 6.099127376729465e7, 0.19183222958057503, 0.911746843525433],
[13, 279.832830081, 6.096134034804364e7, 0.19186166298749197, 0.9116078098221316],
[14, 301.803465121, 6.0936437535933316e7, 0.19174760853568948, 0.9116751841847669],
[15, 323.71840784899996, 6.091546304951068e7, 0.19172553348050198, 0.9115737781538961],
[16, 345.473301641, 6.089760784523864e7, 0.19179543782192943, 0.9116615178786341],
[17, 367.401599202, 6.088227555795707e7, 0.19186534216335674, 0.9115485400982012],
[18, 388.885892918, 6.086897686554469e7, 0.19189109639440916, 0.9115585579429742],
[19, 410.55149805400004, 6.085734292784582e7, 0.19191685062546143, 0.911523775681522],
[20, 432.270498281, 6.0847075482866235e7, 0.1918064753495232, 0.911598909976668]
]

import numpy as np
import matplotlib.pyplot as plt

c100 = np.array(c100)
c200 = np.array(c200)
cALL = np.array(cALL)
w100 = np.array(w100)
w200 = np.array(w200)
wALL = np.array(wALL)

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,3], 'c:', linewidth=2, label='Primal-CR++ 1 core, 100 ratings/user')
ax.plot(w200[:,1], w200[:,3], 'k--', linewidth=2, label='Primal-CR++ 1 core, 200 ratings/user')
ax.plot(wALL[:,1], wALL[:,3], 'r', linewidth=2, label='Primal-CR++ 1 core, ALL ratings/user')
ax.plot(c100[:,1], c100[:,3], 'g-.', linewidth=2, label='Collrank 1 core, 100 ratings/user')
ax.plot(c200[:,1], c200[:,3], 'k-o', linewidth=2, label='Collrank 1 core, 200 ratings/user')
ax.plot(cALL[:,1], cALL[:,3], 'b--p', linewidth=2, label='Collrank 1 core, ALL ratings/user')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 600, 0.15, 0.4])
legend = ax.legend(loc='upper right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,4], 'c:', linewidth=2, label='Primal-CR++ 1 core, 100 ratings/user')
ax.plot(w200[:,1], w200[:,4], 'k--', linewidth=2, label='Primal-CR++ 1 core, 200 ratings/user')
ax.plot(wALL[:,1], wALL[:,4], 'r', linewidth=2, label='Primal-CR++ 1 core, ALL ratings/user')
ax.plot(c100[:,1], c100[:,4], 'g-.', linewidth=2, label='Collrank 1 core, 100 ratings/user')
ax.plot(c200[:,1], c200[:,4], 'k-o', linewidth=2, label='Collrank 1 core, 200 ratings/user')
ax.plot(cALL[:,1], cALL[:,4], 'b--p', linewidth=2, label='Collrank 1 core, ALL ratings/user')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 600, 0.8, 0.92])
legend = ax.legend(loc='lower right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()


# 32
# Varies number of ratings per user in training data, Netflix, rank 100, lambda = 10000
c100 = [
[0, 1.274959, 1635174715.547165, 0.339939, 0.825891],
[1, 2807.470494, 868787330.687747, 0.225250, 0.892637],                     
[2, 5554.104146, 795659496.482044, 0.234046, 0.888513],
[3, 8607.687557, 732703565.288253, 0.216630, 0.896561],
[4, 11901.939931, 710332987.516510, 0.209245, 0.900613],
[5, 14734.732480, 703181474.609954, 0.205986, 0.902742],
[6, 17366.548233, 700713198.083876, 0.204636, 0.903635],
[7, 20385.580057, 699631644.369112, 0.204090, 0.904008],
[8, 23081.678142, 699074627.594937, 0.203787, 0.904243],
[9, 25485.699891, 698752340.723302, 0.203606, 0.904369],
[10, 27929.151799, 698546084.830698, 0.203480, 0.904455],
[11, 30020.061861, 698402340.615283, 0.203380, 0.904545],
[12, 32506.663296, 698295382.975316, 0.203314, 0.904579],
[13, 34993.688304, 698211902.974625, 0.203268, 0.904612],
[14, 37532.731992, 698144493.763829, 0.203228, 0.904625],
[15, 39855.287526, 698088682.372773, 0.203203, 0.904634],
[16, 42079.879791, 698041583.227723, 0.203175, 0.904660],
[17, 44222.657203, 698001228.936872, 0.203161, 0.904678],
[18, 46354.786117, 697966229.709076, 0.203152, 0.904695],
[19, 48555.542909, 697935561.696252, 0.203138, 0.904699],
[20, 50912.510595, 697908455.898839, 0.203128, 0.904703]
]

w100 = [
[0, 0.0, 3.104201227569089e9, 0.3370612503920339, 0.8270589295773721],
[1, 758.026451365, 9.093292182638285e8, 0.29012108362551114, 0.8576318383846491],
[2, 1268.0814532959998, 8.00226565290458e8, 0.23400124426922872, 0.8870006022851462],
[3, 2059.2630297709998, 7.176166101462697e8, 0.2129542963359061, 0.8983048123936501],
[4, 3002.9207869469997, 7.049530811673784e8, 0.20759063451044324, 0.9015187613999887],
[5, 3890.9395423379997, 7.015522170969367e8, 0.20555320160145027, 0.9029076858954467],
[6, 4758.6520451629995, 7.001888827865567e8, 0.20455831726035315, 0.9035942382110752],
[7, 5654.87765668, 6.995050762360861e8, 0.2040340639622298, 0.9039798835206194],
[8, 6553.0171319949995, 6.991028590313526e8, 0.20377398538541236, 0.9041674278681452],
[9, 7434.138969729999, 6.988378129745476e8, 0.20358747781938238, 0.9043112680114105],
[10, 8338.437400457, 6.986487550853585e8, 0.20347028552960447, 0.9044160013926187],
[11, 9244.082906137, 6.985062084719335e8, 0.2033754890428223, 0.9044747421316338],
[12, 10117.825817495, 6.983943717379775e8, 0.20330489704621035, 0.9045164097743379],
[13, 11044.356690179, 6.983040067704418e8, 0.20326053101367558, 0.9045529919037154],
[14, 12090.212733668, 6.982293240182358e8, 0.20321690973468354, 0.9045911511553993],
[15, 12952.93979126, 6.98166489961615e8, 0.2031833426285324, 0.904611314451005],
[16, 13910.005332781, 6.981128524339632e8, 0.2031514778161961, 0.9046360211169883],
[17, 14889.09199142, 6.980665106509316e8, 0.20312604980234533, 0.9046459015852302],
[18, 16010.450114395, 6.980260622726946e8, 0.20310647342348004, 0.9046471996449771],
[19, 16921.457602045, 6.979904472035501e8, 0.20306801222261303, 0.9046810732974607]
]


w200 = [
[0, 0.0, 4.894810611395171e9, 0.3370612503920339, 0.8270589295773721],
[1, 1201.834533829, 2.6468084386407547e9, 0.2730893148332908, 0.8664332066131606],
[2, 2564.700072341, 1.817370074143698e9, 0.20590584240442236, 0.9032877662694269],
[3, 3932.2804997780004, 1.6665412842800245e9, 0.19871710882330268, 0.9068498552375643],
[4, 5293.911205403, 1.6377881305159297e9, 0.19648455048584182, 0.9081371849432358],
[5, 6728.925144472, 1.625909694076408e9, 0.19508755242780018, 0.908978775944693],
[6, 8371.963787394001, 1.619540550616677e9, 0.19427188770733844, 0.9095376768085387],
[7, 9949.67377662, 1.6156447694178586e9, 0.1937352395823809, 0.9098594249514425],
[8, 11584.961352919001, 1.6130230404952729e9, 0.19331232596289089, 0.9101331564259769],
[9, 13068.64561664, 1.6111268524169197e9, 0.19301729716619864, 0.9103096785824207],
[10, 14706.325626743, 1.6096803522707474e9, 0.1928274382092223, 0.9104305325871601],
[11, 16247.511652442001, 1.608533646980944e9, 0.19263619613852248, 0.9105564041121083],
[12, 17833.133500451, 1.607597989647959e9, 0.19247878715738087, 0.9106581489032006],
[13, 19801.537467950002, 1.606818441496636e9, 0.19238654411131717, 0.9107265980375384],
[14, 21460.575237926, 1.6061579681746132e9, 0.19229440745861842, 0.9107955468399366],
[15, 23172.040638728, 1.6055907197268877e9, 0.19221940013742492, 0.9108191755970455],
[16, 24770.672910693003, 1.6050980061416028e9, 0.1921481165839511, 0.9108668219067519],
[17, 26261.263203431005, 1.6046660131736488e9, 0.19207598188357014, 0.9108887102549499],
[18, 27708.735937059006, 1.6042840120646782e9, 0.19201858266401978, 0.9109292831372792],
[19, 29266.136398901006, 1.6039438983502939e9, 0.1919792171195635, 0.910960107333119],
[20, 30834.269576062004, 1.603639071675467e9, 0.19193623420075293, 0.9109760889564307]
]

wALL = [
[0, 0.0, 2.356595104129865e10, 0.3370612503920339, 0.8270589295773721],
[1, 2499.885308779, 1.6324162774318296e10, 0.22614095577836765, 0.8886723885212457],
[2, 5250.87474531, 1.3025803043487682e10, 0.1877387500314601, 0.9136425337809746],
[3, 8160.924571495, 1.1778353292392849e10, 0.18249403598627645, 0.9172065764009472],
[4, 11380.820924098, 1.1018778442620384e10, 0.18120268653808402, 0.9179732407004433],
[5, 14674.481246448999, 1.0545434187009039e10, 0.18101612577537243, 0.9179751413029557],
[6, 18255.075888412, 1.025888650835699e10, 0.18078195398254132, 0.9179876298968539],
[7, 22074.053607002003, 1.0086572803773872e10, 0.18040409795244608, 0.9181322996904195],
[8, 25538.717298915002, 9.9865942114101e9, 0.1799277216678528, 0.918314043228471],
[9, 29059.421223192003, 9.92513327278634e9, 0.17936389003854544, 0.9185964815364844],
[10, 32603.842698897002, 9.886969630285072e9, 0.1788479354227679, 0.9188131593296129],
[11, 36168.887194635005, 9.862409907213083e9, 0.1783948592847544, 0.9189982722282358],
[12, 39798.48870109401, 9.845824196182339e9, 0.1780580178962504, 0.9191445667771945],
[13, 43278.41008933801, 9.833859352672144e9, 0.17779022580058873, 0.9192893622851377],
[14, 46752.05349975701, 9.82510948246215e9, 0.17757068309522525, 0.9193833806925121],
[15, 50140.16150676201, 9.818303883338533e9, 0.17742593492432648, 0.9194488599538777],
[16, 53218.14192400001, 9.813047114353287e9, 0.17731001935490964, 0.9194961670610905],
[17, 56150.47009293401, 9.808912481426762e9, 0.17722825605514048, 0.9195381811092159],
[18, 58976.56752180201, 9.805412520747524e9, 0.1771379280896191, 0.9195799692108445],
[19, 61979.792207157014, 9.802534064433802e9, 0.1770812204269294, 0.9196039972127603],
[20, 64837.34793703201, 9.799622915674614e9, 0.17701701203212108, 0.9196344589557544]
]

c100 = np.array(c100)
c200 = np.array(c200)
cALL = np.array(cALL)
w100 = np.array(w100)
w200 = np.array(w200)
wALL = np.array(wALL)

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,3], 'k-.', linewidth=2, label='Primal-CR++ 1 core, 100 ratings/user')
ax.plot(w200[:,1], w200[:,3], 'b--', linewidth=2, label='Primal-CR++ 1 core, 200 ratings/user')
ax.plot(wALL[:,1], wALL[:,3], 'r', linewidth=2, label='Primal-CR++ 1 core, ALL ratings/user')
ax.plot(c100[:,1], c100[:,3], 'g--o', linewidth=2, label='Collrank 1 core, 100 ratings/user')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 20000, 0.15, 0.4])
legend = ax.legend(loc='upper right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,4], 'k-.', linewidth=2, label='Primal-CR++ 1 core, 100 ratings/user')
ax.plot(w200[:,1], w200[:,4], 'b--', linewidth=2, label='Primal-CR++ 1 core, 200 ratings/user')
ax.plot(wALL[:,1], wALL[:,4], 'r', linewidth=2, label='Primal-CR++ 1 core, ALL ratings/user')
ax.plot(c100[:,1], c100[:,4], 'g--o', linewidth=2, label='Collrank 1 core, 100 ratings/user')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 20000, 0.8, 0.95])
legend = ax.legend(loc='lower right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

