import numpy as np
import matplotlib.pyplot as plt

# 11
# Comparing \Primal, \Primalpp and \Collrank, MovieLens1m data, 200 ratings/user, rank 100, lambda = 5000
c_1t = [
[0, 0.014226, 25494550.188233, 0.356036, 0.457780],
[1, 31.899794, 18070075.054893, 0.204608, 0.745929],
[2, 63.818527, 18003042.186983, 0.202303, 0.748551],
[3, 95.764201, 17941598.161777, 0.198654, 0.758924],
[4, 127.712485, 17795889.030501, 0.191464, 0.770918],
[5, 159.593582, 17747357.739165, 0.188805, 0.777788],
[6, 191.480352, 17700173.424462, 0.185636, 0.785190],
[7, 223.383548, 17670627.306505, 0.183271, 0.790773],
[8, 255.260254, 17658315.151481, 0.181983, 0.794647],
[9, 287.112158, 17651657.855200, 0.181323, 0.797104],
[10, 318.963556, 17647637.443278, 0.181058, 0.797377],
[11, 350.816773, 17645063.647047, 0.180819, 0.798198],
[12, 382.784562, 17643224.088021, 0.180650, 0.798650],
[13, 414.794234, 17641906.343370, 0.180537, 0.798840],
[14, 446.792886, 17640992.346403, 0.180409, 0.798986],
[15, 478.783363, 17640355.917973, 0.180343, 0.798981],
[16, 510.805560, 17639894.213451, 0.180290, 0.799042],
[17, 542.777494, 17639542.296452, 0.180277, 0.798968],
[18, 574.638806, 17639265.309337, 0.180208, 0.799136],
[19, 606.493601, 17639045.335300, 0.180220, 0.798965],
[20, 638.350998, 17638871.221516, 0.180196, 0.799108]
]

w_1c = [
[0, 0.0, 3.4923972344709754e7, 0.3510205089577718, 0.4753335862187586],
[1, 5.332196085, 2.065018648247157e7, 0.23643604844121305, 0.733801658808334],
[2, 13.091907170999999, 1.7919937083181847e7, 0.1927016951718535, 0.7781138146180607],
[3, 21.811701022, 1.7707365601119094e7, 0.18474258794462156, 0.7910377289550884],
[4, 31.334984936, 1.7663148705281977e7, 0.18201973339141664, 0.796294944993741],
[5, 40.746903716000006, 1.764978595047792e7, 0.1809857839424875, 0.7980915688394775],
[6, 49.387522897000004, 1.7644575966865093e7, 0.18045180573422978, 0.7994476981028341],
[7, 58.007118238000004, 1.7642084638151847e7, 0.1802438940370599, 0.7994307352179486],
[8, 65.99910661, 1.764072544686018e7, 0.1801828890743176, 0.7995226071699875],
[9, 73.874508049, 1.7639913387628738e7, 0.18009714037256452, 0.7994483908820548],
[10, 81.066998735, 1.7639394567674518e7, 0.18006125722267952, 0.7995192587547784],
[11, 88.963728929, 1.7639045468658887e7, 0.18004377492931398, 0.7993668362434537],
[12, 96.111140754, 1.7638800772987466e7, 0.1800488808296141, 0.7993365503582156],
[13, 103.38127204700001, 1.763862346178225e7, 0.18003996064359473, 0.7992946859162385],
[14, 110.657706821, 1.763849138721964e7, 0.18002141814511022, 0.7993777123325684],
[15, 117.92603502300001, 1.763839069198585e7, 0.1800447959942229, 0.7993090974153798],
[16, 125.15525162000002, 1.7638312377446912e7, 0.18005663149272694, 0.7992865959409045],
[17, 132.34415090500002, 1.7638250413392056e7, 0.18006222649187578, 0.7992638469850094],
[18, 139.55790316500003, 1.7638200646258056e7, 0.18006452751016358, 0.7994079770398347],
[19, 146.67374746300004, 1.7638160146403465e7, 0.180072617302539, 0.799448248521254],
[20, 153.82586990900003, 1.763812680276606e7, 0.1800671486306438, 0.7994139929314301]
]

w2_1c = [
[0, 0.0, 3.4923972344714075e7, 0.3510205089577718, 0.4753335862187586],
[1, 3.890737663, 2.0650186482471567e7, 0.23643604844121305, 0.733801658808334],
[2, 9.871741794, 1.7919937083181843e7, 0.1927016951718535, 0.7781138146180607],
[3, 16.307962327, 1.7707365601119082e7, 0.18474258794462156, 0.7910377289550884],
[4, 23.579663728, 1.7663148705281988e7, 0.18201973339141664, 0.796294944993741],
[5, 30.033057022, 1.7649785950477924e7, 0.1809857839424875, 0.7980915688394775],
[6, 35.415093025000004, 1.7644575966865093e7, 0.18045180573422978, 0.7994476981028341],
[7, 41.291073448000006, 1.764208463815185e7, 0.1802438940370599, 0.7994307352179486],
[8, 46.59924277100001, 1.7640725446860168e7, 0.1801828890743176, 0.7995226071699875],
[9, 51.662319999000005, 1.7639913387628738e7, 0.18009714007327338, 0.7994483908820548],
[10, 56.594536711, 1.7639394567674506e7, 0.18006125722267952, 0.7995192587547784],
[11, 61.765958399000006, 1.7639045468658887e7, 0.18004377492931398, 0.7993668362434537],
[12, 66.675016196, 1.7638800772987455e7, 0.1800488808296141, 0.7993365503582156],
[13, 71.698221738, 1.7638623461782254e7, 0.18003996064359473, 0.7992946859162385],
[14, 75.916974961, 1.7638491387219645e7, 0.18002141814511022, 0.7993777123325684],
[15, 80.132229568, 1.7638390691985846e7, 0.1800447959942229, 0.7993090974153798],
[16, 84.29285501, 1.7638312377446916e7, 0.18005663149272694, 0.7992865959409045],
[17, 89.019792915, 1.763825041339206e7, 0.18006222649187578, 0.7992638469850094],
[18, 94.230977895, 1.763820064625806e7, 0.18006452751016358, 0.7994079770398347],
[19, 99.580065769, 1.7638160146403477e7, 0.180072617302539, 0.799448248521254],
[20, 104.26664986, 1.7638126802766066e7, 0.1800671486306438, 0.7994139929314301]
]

cofi = [
[0.00014, 0.482976],
[72.272, 0.685476],
[117.217, 0.684809],
[162.149, 0.684795],
[206.997, 0.684796]
]


mf = [
[0, 0.0, 3.385103138065634e7, 0.3510230992652023, 0.4702512717600109, 10.601476944803139, 10.628109349562171],
[3000000, 16.92663499699944, 181393.6284806814, 0.21074621407049254, 0.6914455720636902, 0.7348038782140514, 1.0856809352376284],
[6000000, 33.838104881999826, 183635.0113635194, 0.19209923616450333, 0.7434312704929399, 0.7473799595310853, 0.9716729853535003],
[9000000, 50.7701584230305, 182572.89136215186, 0.18544355307834443, 0.7629582445429991, 0.7491225642727802, 0.936580388488193],
[12000000, 73.96958916603661, 181243.474135571, 0.18287258202792148, 0.769868847477106, 0.7488728228735146, 0.9195491507023269],
[15000000, 130.77414549492127, 179577.03287654856, 0.18090077936507376, 0.7733389486819002, 0.7471121861914994, 0.9100328854697959]
]

cofi = np.array(cofi)
mf = np.array(mf)
c_1t = np.array(c_1t)
w_1c = np.array(w_1c)
w2_1c = np.array(w2_1c)

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,4], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,4], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,4], 'm:', linewidth=2, label='Collrank 1 core')
ax.plot(cofi[:,0], cofi[:,1], '-go', linewidth=2, label='Cofirank 1 core')
ax.plot(mf[:,1], mf[:,4], 'k-.', linewidth=2, label='MF 1 core')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 200, 0.3, 0.85])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,3], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,3], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,3], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 200, 0.15, 0.4])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,2], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,2], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,2], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 200, 1.5e7, 4e7])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()



# 12
# Comparing \Primal, \Primalpp and \Collrank, MovieLens10m data, 500 ratings/user, rank 100, lambda = 7000

c_1t = [
[0, 0.180743, 423548819.048717, 0.389522, 0.273225],
[1, 966.943761, 256114070.393846, 0.213814, 0.596030],
[2, 1959.672376, 220438479.731390, 0.187770, 0.666077],
[3, 3209.017995, 205343697.907428, 0.192710, 0.647136],
[4, 4355.474008, 201368965.939973, 0.191985, 0.653809]
]

w_1c = [
[0, 0.0, 5.902166560936847e8, 0.3886464107151499, 0.2758558730643191],
[1, 91.183635123, 2.625504453018211e8, 0.2438340458412661, 0.5865134472392063],
[2, 236.51416766300002, 2.1644040346117353e8, 0.1955717705280547, 0.6466068907173471],
[3, 396.49755062, 2.0619807551015484e8, 0.1924529567094535, 0.6522400951782721],
[4, 558.40830641, 2.0248196065562502e8, 0.19131034391974414, 0.6559313127268721],
[5, 722.5928240630001, 2.0077125573132166e8, 0.1909964007186548, 0.6572331155665702]
]

w2_1c = [
[0, 0.0, 5.902166560935967e8, 0.3886464107151499, 0.2758558730643191],
[1, 39.210486939, 2.6255044530182084e8, 0.2438340458412661, 0.5865134472392063],
[2, 99.21149757399999, 2.1644040346117392e8, 0.1955717705280547, 0.6466068907173471],
[3, 157.93937963399998, 2.0619807551015493e8, 0.1924529567094535, 0.6522400951782721],
[4, 215.77287086399997, 2.024819606556246e8, 0.19131034391974414, 0.6559313127268721],
[5, 274.47675737799995, 2.0077125573132145e8, 0.1909964007186548, 0.6572331155665702],
[6, 333.3754120489999, 1.9982484003226712e8, 0.1909394969456311, 0.6568724957923184],
[7, 390.2397345879999, 1.9923409687049478e8, 0.19102379579032389, 0.6569162950535602],
[8, 447.63957663199994, 1.9883503811922944e8, 0.19109535510584366, 0.6566286306180434],
[9, 502.59800476099997, 1.98549246395797e8, 0.19122522793858035, 0.6563026944470798],
[10, 556.246338489, 1.983351058455485e8, 0.19126306211842772, 0.6565677504307905],
[11, 612.535610744, 1.9816913961160746e8, 0.19129656523145205, 0.6566405632565935],
[12, 666.572150443, 1.9803696139308485e8, 0.1913304139786772, 0.6559917665225586],
[13, 720.526850187, 1.9792959475749466e8, 0.1914052283388594, 0.6566415470985729],
[14, 774.186568618, 1.978408828958352e8, 0.19147235340933172, 0.6569668041939772]
]

#[0.000152, 0.290692],
#[5694.07, 0.405759],
#[12311.4, 0.489944]
#]

cofi = [
[0.000125, 0.290692],
[822.741, 0.53688],
[1373.53, 0.55167],
[1870.67,0.553639]
]

mf = [
[0, 0.0, 2.6574948437589365e8, 0.38881489162960364, 0.2770702339926844, 12.159182138498513, 12.24600366956992],
[3000000, 17.625694043000887, 5.296199784871201e6, 0.2412581891172354, 0.46093125625023706, 1.6266195088330848, 2.0568259558081037],
[6000000, 35.23487263199791, 4.591307646737404e6, 0.2178588516787439, 0.5527138104806109, 1.5003018973872795, 1.8220597497536986],
[9000000, 52.83825317197184, 4.37401674004192e6, 0.20924674797404297, 0.581650639257865, 1.4595859581187054, 1.7478619943310318],
[12000000, 70.43448092990246, 4.256901796855449e6, 0.20451871650328807, 0.5904640095256365, 1.437351803484764, 1.707817271908606],
[15000000, 88.02428269575717, 4.1783371621681806e6, 0.2011101593626054, 0.6003517495623232, 1.422338635531007, 1.6835891879439024],
[18000000, 105.62232978561975, 4.1087534588751555e6, 0.19937048706147528, 0.6099446327928569, 1.40888431040622, 1.665041274112966],
[21000000, 123.21417035747479, 4.0541262006785646e6, 0.197398904235652, 0.6143678789689636, 1.3982664092107397, 1.6522766863471112],
[24000000, 141.34744103535806, 4.023929522452144e6, 0.19653386824343616, 0.609202985019402, 1.3924907268248157, 1.6484438396354064],
[27000000, 159.47186545622586, 3.9788724021066343e6, 0.1952802477625371, 0.6175656779875774, 1.3836137675312261, 1.634163294708716],
[30000000, 177.1310782800835, 3.952033466725157e6, 0.19519776881132586, 0.6165705996231874, 1.378394433414511, 1.629931884455414],
[33000000, 194.7337241458868, 3.918704093670913e6, 0.1935386632046525, 0.6226805208657232, 1.3717894038396306, 1.621407541071587],
[36000000, 212.32525123172775, 3.8959462362918286e6, 0.19341840499865184, 0.6240922969933149, 1.3673194948463714, 1.61751476132688],
[39000000, 229.91834146656728, 3.879583928833145e6, 0.19276592664611672, 0.6304121624755291, 1.3641447360865788, 1.6159659877953463],
[42000000, 247.50595789041753, 3.8525850411531646e6, 0.1923556711878852, 0.6270139907633223, 1.3587310893214803, 1.6097296642838472],
[45000000, 265.60268388089276, 3.834304371746263e6, 0.19221667814231533, 0.6347556778698117, 1.355099335585201, 1.6090311963404498],
[48000000, 283.5387242618549, 3.8124689186501685e6, 0.19188986395973784, 0.6309177293857313, 1.3507056295450277, 1.604259103979525],
[51000000, 301.87405040562123, 3.8076770973454244e6, 0.19180180980028017, 0.6324902204077791, 1.3498619535053922, 1.603846119601365],
[54000000, 319.6725798547976, 3.7891830200648895e6, 0.19127099830827632, 0.6389989974522072, 1.3461301172081364, 1.5985914806942962],
[57000000, 337.8009690317052, 3.7724621262625367e6, 0.19124314115171834, 0.6366865336386566, 1.3427496942007284, 1.5962993415968152],
[60000000, 355.4863904999497, 3.7752179615442962e6, 0.19155502257227192, 0.6341503124060772, 1.3434652220944534, 1.5979051372935102],
[63000000, 373.4447357209509, 3.7557413896407587e6, 0.1903869949296271, 0.6405101056302887, 1.3394816355124095, 1.59347316822533],
[66000000, 391.4342303320172, 3.7432284772757827e6, 0.1908519386819377, 0.6391401885075165, 1.3369532899452874, 1.5913850450966867],
[69000000, 410.8082794102114, 3.7406099551696857e6, 0.19016408620120412, 0.6415354535835588, 1.3365138333114697, 1.5925056135268862],
[72000000, 429.4303869008468, 3.73792044119481e6, 0.19096220530782343, 0.6426447256340477, 1.3360526567270203, 1.5928045757551836],
[75000000, 447.7491234556988, 3.7218518731954917e6, 0.19012029260619814, 0.642473216251232, 1.33274720463725, 1.5869546580898912],
[78000000, 466.4611050082405, 3.7244379523785347e6, 0.19091250741729052, 0.6425936372159318, 1.3333928583298624, 1.58823435844058],
[81000000, 485.3807480667603, 3.702161979297206e6, 0.18985425712493073, 0.6416497186802291, 1.328752329993026, 1.585534283626191],
[84000000, 504.23871266122137, 3.6974180318480087e6, 0.19002751485641842, 0.6446294176421321, 1.32783065393172, 1.5839230294908355],
[87000000, 522.5704769186607, 3.689717224247889e6, 0.19002069327302581, 0.6434059787706048, 1.3262736096059862, 1.582912175031932],
[90000000, 540.6054554376284, 3.692638204106093e6, 0.19001480942743446, 0.6446780203433726, 1.3269783655340912, 1.5846792118201674],
[93000000, 558.8679908774965, 3.6854576141827437e6, 0.19000407713880782, 0.6429136708512395, 1.3255250112334875, 1.5825248814518833],
[96000000, 576.9605958974056, 3.674619253290618e6, 0.18936565908308273, 0.6522479770761556, 1.3232853499520472, 1.5833367919880434],
[99000000, 595.3020855753216, 3.681803451466529e6, 0.1899341446836975, 0.6446970589306009, 1.324894520190639, 1.5831615941129613],
[102000000, 613.9637931271844, 3.681764710096443e6, 0.18976179479354893, 0.6464853277520566, 1.3249572677500328, 1.5844767892139568],
[105000000, 632.3369503501222, 3.670138884618461e6, 0.1898567314209453, 0.6459377184093869, 1.3225391712017258, 1.5818426385216022],
[108000000, 650.9114357320683, 3.668463952797542e6, 0.18938428542059618, 0.6415160940180785, 1.3222450068546932, 1.5796969989232872],
[111000000, 669.4593387139255, 3.658659669237282e6, 0.18962858062837587, 0.652793092449688, 1.3202079901338362, 1.5785722390979582],
[114000000, 687.9182479568008, 3.6615864013252347e6, 0.18941455514739122, 0.6464681949107243, 1.3208959107071494, 1.578258553524017]
]

mf = [
[0, 0.0, 2.6574948437589365e8, 0.38881489162960364, 0.2770702339926844, 12.159182138498513, 12.24600366956992],

[9000000, 52.83825317197184, 4.37401674004192e6, 0.20924674797404297, 0.581650639257865, 1.4595859581187054, 1.7478619943310318],

[18000000, 105.62232978561975, 4.1087534588751555e6, 0.19937048706147528, 0.6099446327928569, 1.40888431040622, 1.665041274112966],

[27000000, 159.47186545622586, 3.9788724021066343e6, 0.1952802477625371, 0.6175656779875774, 1.3836137675312261, 1.634163294708716],

[36000000, 212.32525123172775, 3.8959462362918286e6, 0.19341840499865184, 0.6240922969933149, 1.3673194948463714, 1.61751476132688],

[45000000, 265.60268388089276, 3.834304371746263e6, 0.19221667814231533, 0.6347556778698117, 1.355099335585201, 1.6090311963404498],

[54000000, 319.6725798547976, 3.7891830200648895e6, 0.19127099830827632, 0.6389989974522072, 1.3461301172081364, 1.5985914806942962],

[63000000, 373.4447357209509, 3.7557413896407587e6, 0.1903869949296271, 0.6405101056302887, 1.3394816355124095, 1.59347316822533],

[72000000, 429.4303869008468, 3.73792044119481e6, 0.19096220530782343, 0.6426447256340477, 1.3360526567270203, 1.5928045757551836],

[81000000, 485.3807480667603, 3.702161979297206e6, 0.18985425712493073, 0.6416497186802291, 1.328752329993026, 1.585534283626191],

[90000000, 540.6054554376284, 3.692638204106093e6, 0.19001480942743446, 0.6446780203433726, 1.3269783655340912, 1.5846792118201674],

[99000000, 595.3020855753216, 3.681803451466529e6, 0.1899341446836975, 0.6446970589306009, 1.324894520190639, 1.5831615941129613],

[108000000, 650.9114357320683, 3.668463952797542e6, 0.18938428542059618, 0.6415160940180785, 1.3222450068546932, 1.5796969989232872]
]

cofi = np.array(cofi)
c_1t = np.array(c_1t)
w_1c = np.array(w_1c)
w2_1c = np.array(w2_1c)
mf = np.array(mf)



fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,4], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,4], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,4], 'm:', linewidth=2, label='Collrank 1 core')
ax.plot(cofi[:,0], cofi[:,1], '-go', linewidth=2, label='Cofirank 1 core')
ax.plot(mf[:,1], mf[:,4], 'k-.', linewidth=2, label='MF 1 core')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 3000, 0.2, 0.7])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,3], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,3], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,3], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 3000, 0.15, 0.45])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,2], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,2], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,2], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 3000, 1.5e8, 6.5e8])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

# 13
# Comparing \Primal, \Primalpp and \Collrank, Netflix data, 200 ratings/user, rank 100, lambda = 10000
w2_1c = [
[0, 0.0, 2.7754824483000426e9, 0.33897966421164927, 0.49844107406957067],
[1, 855.970643822, 1.9136999202755694e9, 0.2526987104114029, 0.7071178796147436],
[2, 1722.978107525, 1.3777587718341937e9, 0.19066884226386366, 0.7944758551005886],
[3, 2660.05200043, 1.2843419831558638e9, 0.18568948251488562, 0.7947537935003905],
[4, 3541.54319307, 1.2673784318285406e9, 0.182881819099553, 0.7985451627289263],
[5, 4487.424007285, 1.2601755851697772e9, 0.18102062703877383, 0.8020080714799256],
[6, 5484.002218845, 1.2561931243044152e9, 0.17989061800754147, 0.8044051937338988],
[7, 6411.59385485, 1.2536665384854093e9, 0.17916698270909287, 0.8061631293957917],
[8, 7373.275198941999, 1.251907283897667e9, 0.17866040656225515, 0.80744678283374]
]

w_1c = [
[0, 0.0, 2.7754824482995534e9, 0.33897966421164927, 0.49844107406957067],
[1, 1070.144303483, 1.9139686645054314e9, 0.2526986029777938, 0.7071191628757021],
[2, 2952.678076598, 1.3780275160640373e9, 0.1906686910354331, 0.7944758307912962],
[3, 5043.851356716001, 1.2846107273857462e9, 0.1856893802827637, 0.7947540760577223],
[4, 6959.0090204670005, 1.2676471760583866e9, 0.1828817423550167, 0.7985454695955504],
[5, 8385.430786538, 1.2604443293996606e9, 0.18102055528016353, 0.8020083540372572],
[6, 9832.507603091999, 1.256461868534279e9, 0.17989057610099593, 0.804405500600523],
[7, 11431.894380889999, 1.25393528271528e9, 0.17916692963122213, 0.8061634362624159],
[8, 13202.126772890999, 1.252176028127495e9, 0.17866036289605272, 0.8074470653910719],
[9, 14751.056773834998, 1.2508719527688234e9, 0.17828702945981834, 0.8084046916645529],
[10, 16252.528658459998, 1.2498636460687366e9, 0.17800752002522163, 0.8092185596441203],
[11, 17725.760844538, 1.2490605644060166e9, 0.17778805637326392, 0.8098311875897057],
[12, 19197.140947875, 1.2484065792339487e9, 0.17761757682777865, 0.810342565298811],
[13, 20673.977561652, 1.247864524441093e9, 0.1774704837404785, 0.8108110740462484],
[14, 22132.497498724, 1.2474085764040554e9, 0.1773517193918157, 0.8111565523149337],
[15, 23616.058209102997, 1.2470202172723153e9, 0.1772549856966687, 0.8114565883351511],
[16, 25094.477754048, 1.2466858281947885e9, 0.17717152164694858, 0.8116387810189832],
[17, 26573.320459312, 1.246395141232389e9, 0.1770989448078973, 0.8118585819835681],
[18, 28035.538550667, 1.2461403094980571e9, 0.1770400735032576, 0.8120151535802075],
[19, 29504.198860296998, 1.2459152168066962e9, 0.17698808623547127, 0.8121926162143244],
[20, 30954.019169653, 1.2457150324717607e9, 0.1769454295255306, 0.8122989572179503]
]

c_1t = [
[0, 0.401708, 2201412184.583276, 0.337697, 0.490893],
[1, 6616.716144, 1683113561.053637, 0.213025, 0.764036],
[2, 12759.871696, 1452989287.275296, 0.191212, 0.780508],
[3, 18725.925560, 1303476191.037700, 0.189037, 0.770062],
[4, 23806.626113, 1268880225.458385, 0.184415, 0.788689],
[5, 28850.649082, 1259505012.885172, 0.181414, 0.797953],
[6, 33647.406625, 1255076917.004290, 0.180090, 0.801946],
[7, 38359.994691, 1252486961.059306, 0.179294, 0.804532],
[8, 43016.675272, 1250785627.910584, 0.178752, 0.806205],
[9, 47573.546677, 1249574203.271779, 0.178376, 0.807510],
[10, 52167.094805, 1248660472.619510, 0.178091, 0.808444]
]

mf = [
[0, 0.0, 3.2731794315219684e9, 0.33889708132402413, 0.4965090604070935, 10.662474804257903, 10.68769484732067],
[30000000, 197.24544125346375, 4.306564875145155e7, 0.27565269993982255, 0.5694054411960179, 1.2135352386679203, 1.4409861632337992],
[60000000, 402.15241275775367, 3.0068827148246773e7, 0.25989186264796504, 0.6102063948484153, 1.014340609801192, 1.182234472013857],
[90000000, 628.4335928329235, 2.651326652154628e7, 0.24687959517389896, 0.6463163594827038, 0.9544634336192027, 1.0746156411091716],
[120000000, 873.9276277336546, 2.5049561408725616e7, 0.2367467991137164, 0.6712265252269054, 0.9294772859635967, 1.0153889569803547],
[150000000, 1146.7174322664714, 2.4054160306518633e7, 0.22673281793618666, 0.701446640084297, 0.9120317402872742, 0.9762239534380445],
[180000000, 1458.5822477965128, 2.320842816977808e7, 0.2163881233353786, 0.7271113726162465, 0.8966572329247352, 0.9467130122987739],
[210000000, 1693.4791628111884, 2.2611071961347952e7, 0.20823896144772694, 0.744123302337218, 0.8855909183335106, 0.9259402606778382],
[240000000, 1898.0654100490192, 2.227814861811536e7, 0.20374212649643006, 0.7592473215660486, 0.8794335060808617, 0.9126727710181514],
[270000000, 2102.701031030115, 2.215096071548149e7, 0.20132277524634404, 0.7625645885347516, 0.8771967670325977, 0.905020126387702],
[300000000, 2304.9282761584054, 2.2089188214519255e7, 0.19939369343962648, 0.7664838975400393, 0.8761675612062322, 0.9002597527064642],
[330000000, 2499.3856595065286, 2.2040743717243806e7, 0.19824457936827092, 0.7672377914605846, 0.8753420343433037, 0.8967371523427147],
[360000000, 2710.121184638181, 2.1948402330080114e7, 0.19661228052070173, 0.7772772626777279, 0.8735985582068561, 0.8932066610752132],
[390000000, 2909.0583816953185, 2.1856274781767458e7, 0.19511717529983655, 0.7762946201240314, 0.8718279572343286, 0.8900745569260253],
[420000000, 3106.60667629375, 2.1832423258030444e7, 0.19427252802732375, 0.7779562796182916, 0.8714044389151278, 0.8882814242911465],
[450000000, 3304.8402383637895, 2.173802539778536e7, 0.19296629512178481, 0.7797905348245012, 0.8695527156670283, 0.8857554969791636],
[480000000, 3501.8136094101606, 2.1688881843804765e7, 0.1925722525236357, 0.78411478040989, 0.8685980820851934, 0.8842747777438213],
[510000000, 3701.664371373033, 2.1621624281263806e7, 0.19145777223138705, 0.7850600744554929, 0.8672717429457703, 0.8824715873078676],
[540000000, 3900.654765543365, 2.1544765953066096e7, 0.19078902148023943, 0.7856631294560259, 0.865744996556953, 0.8807297823000371],
[570000000, 4099.963385505045, 2.1519474751750387e7, 0.19047676945288672, 0.7866962734638463, 0.865253458905909, 0.879868637136466],
[600000000, 4296.975972671295, 2.146527906546284e7, 0.1895882121123144, 0.7868642720448116, 0.8641753598543679, 0.8786042202578952],
[630000000, 4493.640267503064, 2.1398135438618317e7, 0.18889488614930816, 0.7869771101668873, 0.8628320011020074, 0.87711401044246],
[660000000, 4689.1079865049305, 2.1374282322204527e7, 0.1885173828288815, 0.7906702871040967, 0.8623621257758739, 0.8763618578539688],
[690000000, 4885.575761678166, 2.1291184304282226e7, 0.18775758908968374, 0.7873765412595808, 0.8606894054429298, 0.8749432437935455],
[720000000, 5080.80882038394, 2.1299735819030084e7, 0.187545161740568, 0.7919322019819748, 0.8608733305565636, 0.8750855424637246],
[750000000, 5311.220702495417, 2.1235977293221276e7, 0.18703461398291307, 0.792392330639665, 0.8595889367649413, 0.8736005434580143],
[780000000, 5569.401110441825, 2.113970552349872e7, 0.18633489096993625, 0.794520292056389, 0.8576405929865653, 0.8720168902516411],
[810000000, 5780.68629308586, 2.1139676027997203e7, 0.18624022929659723, 0.7923045647718806, 0.8576481404528826, 0.8718958785053996],
[840000000, 5989.238965985438, 2.1125781201886043e7, 0.18615846880868933, 0.7944300477760035, 0.8573731872228765, 0.8713966552908113],
[870000000, 6198.619207095105, 2.109427306484947e7, 0.18617588830869847, 0.7959265119431572, 0.8567385831762463, 0.8706959431926963],
[900000000, 6413.7807303406935, 2.1082622674318578e7, 0.18568980182201456, 0.795714845227218, 0.85650810440114, 0.8704233059685825],
[930000000, 6612.421955550569, 2.1058623825737517e7, 0.18537168720611663, 0.7950894192596121, 0.8560255515865705, 0.8701664568398708],
[960000000, 6834.102901773998, 2.1019290194903016e7, 0.1851771862970441, 0.7950131277154513, 0.8552291706388819, 0.869273633150403]
]

mf = [
[0, 0.0, 3.2621933366472692e9, 0.33897377073938695, 0.49564667942772306, 10.643606408845201, 10.669734182064907],
[30000000, 291.9328363120435, 4.3054468782052286e7, 0.2749666799458201, 0.5705659635992776, 1.2133700760130472, 1.4389721287739166],
[60000000, 596.5299859287525, 3.0029543030469507e7, 0.2592245297343583, 0.610004595063328, 1.0136623923792327, 1.1805395626608723],
[90000000, 902.6023894219413, 2.657900214075505e7, 0.24797199824428715, 0.6424254328914244, 0.9556645742849177, 1.074356297422686],
[120000000, 1197.563287954934, 2.5070367130387645e7, 0.23742454661539056, 0.6695998925605898, 0.9298684204509678, 1.0151022067870354],
[150000000, 1412.1843466097532, 2.4204559944693286e7, 0.22843077024815805, 0.6995831749193697, 0.9149077544290353, 0.9781562904077878],
[180000000, 1621.77763341443, 2.3357893924518105e7, 0.21812026932985248, 0.7240814837169237, 0.8995656076512026, 0.948918804058935],
[210000000, 1833.79384177482, 2.2693626028599553e7, 0.20926529413409853, 0.7467607637337814, 0.8872204271831666, 0.9272015506888972],
[240000000, 2044.5336167757596, 2.2351234708619636e7, 0.20427894956090764, 0.7543950917832909, 0.8808861241030161, 0.9137592598270412],
[270000000, 2256.0879190714973, 2.2193339134056002e7, 0.2016032848061995, 0.7616944777205449, 0.8780422350426585, 0.9059025448268387],
[300000000, 2468.262653859841, 2.206714997227842e7, 0.1995842220426553, 0.7689720937036348, 0.8757298479129089, 0.8998086913544028],
[330000000, 2679.6050914944217, 2.2024360782410778e7, 0.19822031878516244, 0.770072524978049, 0.8750165950788955, 0.8964157236656973],
[360000000, 2891.087915872768, 2.195896815151194e7, 0.19648418949658794, 0.773867619459347, 0.8738104578955143, 0.8933122330123717],        
[390000000, 3102.1545411688153, 2.1857547295521766e7, 0.19532533054908707, 0.7767329055469679, 0.8718540514721916, 0.8899574766219905],     [420000000, 3345.296635942886, 2.1801124628262386e7, 0.19411818095875916, 0.777173956039551, 0.870777334757915, 0.8879235328684705],
[450000000, 3612.9696130137445, 2.1686083443750802e7, 0.19277103704810852, 0.7809087912525284, 0.8685091100222028, 0.885131582370382],
[480000000, 3887.7751786241824, 2.1688403107136577e7, 0.19244862098997292, 0.7839843951031434, 0.8685880181949147, 0.8842776228242297],
[510000000, 4160.321159503478, 2.1605163125598174e7, 0.19171741667531736, 0.7837250223230168, 0.8669395850556922, 0.8822698176255162],
[540000000, 4434.561731824773, 2.1533472329525977e7, 0.1904929647089595, 0.785732254356014, 0.8655166777263454, 0.8805991712718325],
[570000000, 4706.143642692623, 2.1477523849482812e7, 0.18969935691345804, 0.7884633527795025, 0.864405908093062, 0.8793602590692259],
[600000000, 4977.180143269786, 2.1410721082017515e7, 0.18967366320629198, 0.7873495915017926, 0.8630714304632767, 0.8777526970298368],
[630000000, 5248.309952708061, 2.139430009767832e7, 0.18866787794986584, 0.7892208709446065, 0.8627536070882549, 0.8771800392351097],
[660000000, 5516.487768911525, 2.134014591258873e7, 0.188112170019041, 0.7879688883777972, 0.8616695065471127, 0.8758983662954272],
[690000000, 5769.728768250488, 2.1274902557373345e7, 0.18763783891393226, 0.7877345064740424, 0.8603579963892934, 0.8748401778380516],
[720000000, 6038.784904723933, 2.1209576629430864e7, 0.18710022633182413, 0.7925111270794294, 0.8590419668776679, 0.8732267338623025],
[750000000, 6308.119863452571, 2.1209958268345747e7, 0.1868642279031909, 0.7919481092623939, 0.8590595791256445, 0.8731395856037621],
[780000000, 6582.1187361704115, 2.120225231474172e7, 0.18660574363500793, 0.7920653561196086, 0.8589119272376569, 0.8729041890401836],
[810000000, 6854.986339221114, 2.1136527896761883e7, 0.18618137892125403, 0.792885860299546, 0.8575832857394997, 0.8718122547507781],
[840000000, 7129.104296728863, 2.1131513266946584e7, 0.18572877882999553, 0.7932825629219177, 0.85748951159986, 0.8715912966755799],
[870000000, 7400.252146712379, 2.108815559707874e7, 0.18585851572554574, 0.7959952353922474, 0.8566134366630807, 0.8709184577270291],
[900000000, 7673.756503177181, 2.1066048326524932e7, 0.1852615219884876, 0.7956084187607616, 0.8561697315256174, 0.8704563750922846]
]



mf = [
[0, 0.0, 3.2765523731440396e9, 0.33887858183842307, 0.49807686466002826, 10.663051127780502, 10.69320115263138],
[150000000, 1255.1738620008032, 2.420878696474013e7, 0.22862280877466665, 0.701547893864256, 0.9149857556396588, 0.9783473219358518],
[300000000, 2507.518420734624, 2.209632975485191e7, 0.19985918127812913, 0.764628613440482, 0.8763110284322346, 0.9003153444276675],
[450000000, 3765.8557190989995, 2.17203243026408e7, 0.19306012177460316, 0.7809431639043776, 0.8691976281082407, 0.8856738404317723],
[600000000, 5025.033430195787, 2.143177570913521e7, 0.18948715033225025, 0.7880780757273009, 0.8634984132028981, 0.8780929451753554],
[750000000, 6286.71223247321, 2.124133739014906e7, 0.1871568238369789, 0.7924676196996252, 0.8596977264934021, 0.8738396376227341],
[900000000, 7543.681325390139, 2.10927393133924e7, 0.18538916366922709, 0.7961586587889216, 0.8567145110843675, 0.8707349865624231],
[1050000000, 8803.401837061081, 2.1000643123308826e7, 0.18489838154754745, 0.7970616160435886, 0.8548655361993833, 0.8689557950039506]
]

mf = [
[0, 0.0, 3.2699688650936475e9, 0.3390429670754978, 0.49738120562307675, 10.659271924188568, 10.682448328446963],
[300000000, 2388.592572860262, 2.211260036002506e7, 0.19993038753467476, 0.7649042803974752, 0.8766353752358649, 0.9005999187694692],
[600000000, 4779.379761201072, 2.1448367704644848e7, 0.18953573838498292, 0.7868558077389166, 0.8638336554248797, 0.878507358617656],
[900000000, 7160.377121637195, 2.1131249198363177e7, 0.1858352003253546, 0.7974116249249826, 0.8574990922561971, 0.8712971041143555],
[1200000000, 9541.267888878523, 2.099586531782515e7, 0.18443524326278524, 0.7975455600973274, 0.8547911958220149, 0.8686646540579162],
[1500000000, 11923.151630080763, 2.0961945748191603e7, 0.18411912210079853, 0.7965363297712665, 0.8541301026004201, 0.8675237465857646]
]

c_1t = np.array(c_1t)
w_1c = np.array(w_1c)
w2_1c = np.array(w2_1c)
mf = np.array(mf)

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,4], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,4], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,4], 'm:', linewidth=2, label='Collrank 1 core')
ax.plot(mf[:,1], mf[:,4], 'k-.', linewidth=2, label='MF 1 core')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 24000, 0.45, 0.85])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()


fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,3], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,3], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,3], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 24000, 0.15, 0.45])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,2], 'r--', linewidth=2, label='Primal-CR 1 core')
ax.plot(w2_1c[:,1], w2_1c[:,2], 'b', linewidth=2, label='Primal-CR++ 1 core')
ax.plot(c_1t[:,1], c_1t[:,2], 'm:', linewidth=2, label='Collrank 1 core')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 24000, 1.0e9, 3.5e9])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

# 21
# Comparing parallel version of \Primal and \Collrank, MovieLens10m data, 500 ratings/user, rank 100, lambda = 7000

c_8t = [
[0, 0.172671, 423569874.286366, 0.387794, 0.270276],
[1, 167.900662, 256290099.517283, 0.214414, 0.593757],
[2, 327.668976, 220399227.488486, 0.188643, 0.662968],
[3, 485.433874, 205371520.993825, 0.193158, 0.646608],
[4, 640.242916, 201409673.742713, 0.192271, 0.652576]
]

w_8c = [
[0, 0.0, 5.902166560936844e8, 0.38864641071514966, 0.2758558730643181],
[1, 35.490865595, 2.6255044530182102e8, 0.24383404584126603, 0.5865134472392066],
[2, 81.750248056, 2.1644040346117392e8, 0.19557177052805444, 0.6466068907173494],
[3, 137.155899734, 2.0619807551015505e8, 0.19245295670945337, 0.652240095178272],
[4, 184.436720912, 2.0248211321822715e8, 0.19130915977747753, 0.6559228449905797],
[5, 231.585666289, 2.0077123742057288e8, 0.1909980421336187, 0.6572606623066698],
[6, 281.563712442, 1.998248252531421e8, 0.1909407729729401, 0.6568839252783671],
[7, 341.377647451, 1.9923408856211737e8, 0.19102117354962617, 0.6568625517480622],
[8, 408.517281573, 1.9883503435341763e8, 0.1910947792594329, 0.6565783016273545],
[9, 477.166769789, 1.9854924494024134e8, 0.1912255372056071, 0.6562982357840318],
[10, 547.432604799, 1.9833510551575786e8, 0.1912595091825495, 0.6565649558351667],
[11, 601.6147567620001, 1.9816914005815253e8, 0.19129546917757903, 0.6566854142315832],
[12, 655.3005364620001, 1.980369624405972e8, 0.19133244950093278, 0.655953020479399],
[13, 711.13814248, 1.9792959653923962e8, 0.19140857103350592, 0.6566274240331057],
[14, 767.166716726, 1.978408854325377e8, 0.19147577223667211, 0.6569914819296959],
[15, 821.531523116, 1.977665132549425e8, 0.1915554824556167, 0.6567639057983353],
[16, 876.4433338480001, 1.9770331657194605e8, 0.19161879504800647, 0.6565174239370359],
[17, 934.2970079950001, 1.976490897884403e8, 0.1916407771819463, 0.6559261843951616]
]

c_8t = np.array(c_8t)
w_8c = np.array(w_8c)

fig, ax = plt.subplots()
ax.plot(w_8c[:,1], w_8c[:,4], 'r', linewidth=2, label='Primal-CR 8 cores')
ax.plot(c_8t[:,1], c_8t[:,4], 'c--', linewidth=2, label='Collrank 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 700, 0, 0.75])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_8c[:,1], w_8c[:,3], 'r', linewidth=2, label='Primal-CR 8 cores')
ax.plot(c_8t[:,1], c_8t[:,3], 'c--', linewidth=2, label='Collrank 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 700, 0.15, 0.45])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_8c[:,1], w_8c[:,2], 'r', linewidth=2, label='Primal-CR 8 cores')
ax.plot(c_8t[:,1], c_8t[:,2], 'c--', linewidth=2, label='Collrank 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 700, 1.5e8, 6.5e8])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

# 22
# Speedup of \Primal, MovieLens10m data, 500 ratings/user, rank 100, lambda = 7000
w_1c = [
[0, 0.0, 5.902166560936847e8, 0.3886464107151499, 0.2758558730643191],
[1, 91.183635123, 2.625504453018211e8, 0.2438340458412661, 0.5865134472392063],
[2, 236.51416766300002, 2.1644040346117353e8, 0.1955717705280547, 0.6466068907173471],
[3, 396.49755062, 2.0619807551015484e8, 0.1924529567094535, 0.6522400951782721],
[4, 558.40830641, 2.0248196065562502e8, 0.19131034391974414, 0.6559313127268721],
[5, 722.5928240630001, 2.0077125573132166e8, 0.1909964007186548, 0.6572331155665702]
]

w_4c = [
[0, 0.0, 5.902166560936844e8, 0.38864641071515, 0.275855873064318],
[1, 37.415012206, 2.6255044530182096e8, 0.2438340458412662, 0.5865134472392064],
[2, 101.855683321, 2.1644040346117398e8, 0.19557177052805447, 0.6466068907173493],
[3, 167.54917495, 2.0619807550356698e8, 0.19245295670945337, 0.6522400951782722],
[4, 231.747492394, 2.0248196065424937e8, 0.19131034364032, 0.6559313127268719],
[5, 294.199105403, 2.0077125572907144e8, 0.19099640073068272, 0.6572331155665718],
[6, 359.843757267, 1.99824933187959e8, 0.19094516939076153, 0.6568178383050457]
]

w_8c = [
[0, 0.0, 5.902166560936844e8, 0.38864641071514966, 0.2758558730643181],
[1, 35.490865595, 2.6255044530182102e8, 0.24383404584126603, 0.5865134472392066],
[2, 81.750248056, 2.1644040346117392e8, 0.19557177052805444, 0.6466068907173494],
[3, 137.155899734, 2.0619807551015505e8, 0.19245295670945337, 0.652240095178272],
[4, 184.436720912, 2.0248211321822715e8, 0.19130915977747753, 0.6559228449905797],
[5, 231.585666289, 2.0077123742057288e8, 0.1909980421336187, 0.6572606623066698],
[6, 281.563712442, 1.998248252531421e8, 0.1909407729729401, 0.6568839252783671],
[7, 341.377647451, 1.9923408856211737e8, 0.19102117354962617, 0.6568625517480622],
[8, 408.517281573, 1.9883503435341763e8, 0.1910947792594329, 0.6565783016273545],
[9, 477.166769789, 1.9854924494024134e8, 0.1912255372056071, 0.6562982357840318],
[10, 547.432604799, 1.9833510551575786e8, 0.1912595091825495, 0.6565649558351667],
[11, 601.6147567620001, 1.9816914005815253e8, 0.19129546917757903, 0.6566854142315832],
[12, 655.3005364620001, 1.980369624405972e8, 0.19133244950093278, 0.655953020479399],
[13, 711.13814248, 1.9792959653923962e8, 0.19140857103350592, 0.6566274240331057],
[14, 767.166716726, 1.978408854325377e8, 0.19147577223667211, 0.6569914819296959],
[15, 821.531523116, 1.977665132549425e8, 0.1915554824556167, 0.6567639057983353],
[16, 876.4433338480001, 1.9770331657194605e8, 0.19161879504800647, 0.6565174239370359],
[17, 934.2970079950001, 1.976490897884403e8, 0.1916407771819463, 0.6559261843951616]
]

w_1c = np.array(w_1c)
w_4c = np.array(w_4c)
w_8c = np.array(w_8c)

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,4], 'b:', linewidth=3, label='Primal-CR 1 core')
ax.plot(w_4c[:,1], w_4c[:,4], 'r--', linewidth=3, label='Primal-CR 4 cores')
ax.plot(w_8c[:,1], w_8c[:,4], 'c', linewidth=3, label='Primal-CR 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 700, 0, 0.75])
legend = ax.legend(loc='lower right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,3], 'b:', linewidth=3, label='Primal-CR 1 core')
ax.plot(w_4c[:,1], w_4c[:,3], 'r--', linewidth=3, label='Primal-CR 4 cores')
ax.plot(w_8c[:,1], w_8c[:,3], 'c', linewidth=3, label='Primal-CR 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 700, 0.15, 0.45])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w_1c[:,1], w_1c[:,2], 'b:', linewidth=3, label='Primal-CR 1 core')
ax.plot(w_4c[:,1], w_4c[:,2], 'r--', linewidth=3, label='Primal-CR 4 cores')
ax.plot(w_8c[:,1], w_8c[:,2], 'c', linewidth=3, label='Primal-CR 8 cores')
ax.set_title('MovieLens10m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Objective_Function', fontsize=18)
ax.axis([0, 700, 1.5e8, 6.5e8])
legend = ax.legend(loc='upper right', shadow=True, fontsize = 20)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

# 31
# Varies number of ratings per user in training data, MovieLens1m, rank 100, lambda = 5000
c100 = [
[0, 0.026573, 20493766.354429, 0.347550, 0.821455],
[1, 21.240566, 11943636.097843, 0.223105, 0.894959],
[2, 43.370973, 11872038.989402, 0.232038, 0.890045],
[3, 67.226583, 11844740.201489, 0.232561, 0.889787],
[4, 91.574483, 11839794.391866, 0.230802, 0.890671],
[5, 119.784221, 11839396.612699, 0.230434, 0.890852],
[6, 144.977448, 11839361.110977, 0.230401, 0.890891]
]

c200 = [
[0, 0.035494, 40826353.117932, 0.345754, 0.826788],
[1, 60.309774, 28323496.740011, 0.215710, 0.896729],
[2, 122.656092, 28188142.654277, 0.215559, 0.896964],
[3, 183.390610, 27948317.668610, 0.209047, 0.901554],
[4, 247.419412, 27684736.041036, 0.203113, 0.904810],
[5, 308.719500, 27521864.755220, 0.198385, 0.907726],
[6, 370.647689, 27449817.679593, 0.196115, 0.909600],
[7, 429.326140, 27413645.838018, 0.195081, 0.910184],
[8, 488.620936, 27392920.616412, 0.194643, 0.910704],
[9, 545.980129, 27380481.056378, 0.194437, 0.911137],
[10, 606.212148, 27373129.215408, 0.194415, 0.911045],
[11, 666.625563, 27368633.412996, 0.194294, 0.911080]
]

cALL = [
[0, 0.027514, 138708145.906208, 0.339713, 0.827200],
[1, 277.584344, 87315833.848825, 0.210530, 0.898999],
[2, 568.460727, 81292677.328884, 0.199047, 0.907602],
[3, 882.662012, 72425778.869140, 0.202351, 0.906175],
[4, 1245.207071, 62144180.668596, 0.193385, 0.910424]
]

w100 = [
[0, 0.0, 3.734650223682237e7, 0.3439072847682103, 0.8245657592449451],
[1, 4.654531746, 1.2408633140403587e7, 0.28536423841059505, 0.8675941516746746],
[2, 9.162732944, 1.2102989838173248e7, 0.2333112582781459, 0.8907663741739291],
[3, 14.417036667, 1.191705365677037e7, 0.2357468727005149, 0.8886259270528043],
[4, 19.689413762, 1.1846436418400146e7, 0.2317071376011774, 0.8903705804923184],
[5, 25.60725453, 1.184002390268666e7, 0.23023546725533509, 0.890924638031281],
[6, 31.60608589, 1.1839523268606711e7, 0.22984547461368657, 0.891232192486661],
[7, 37.494323, 1.1839457487330996e7, 0.22977924944812378, 0.891276834793897],
[8, 43.210875902, 1.183943757280106e7, 0.22978660779985305, 0.8912972503142647],
[9, 48.406863011, 1.183942709861049e7, 0.22984179543782232, 0.891251795694114],
[10, 53.020790988, 1.1839419914672384e7, 0.22989698307579148, 0.891205032734546],
[11, 57.379368331, 1.183941425736879e7, 0.22993745401030213, 0.8911554844631295]
]

w200 = [
[0, 0.0, 5.8049616055231035e7, 0.3439072847682103, 0.8245657592449451],
[1, 9.757336744, 3.213352531497197e7, 0.25478660779985257, 0.8820313019224842],
[2, 22.40471945, 2.7826690976597395e7, 0.20522442972774235, 0.9044514335780212],
[3, 37.529653654, 2.7475783963489532e7, 0.1972663723325992, 0.9089250682846542],
[4, 52.216685983000005, 2.740663684749367e7, 0.19531272994849364, 0.9101369495572795],
[5, 67.006075983, 2.7382775369273018e7, 0.19443708609271718, 0.9107035921052952],
[6, 82.119501903, 2.7371949167126328e7, 0.1942126563649764, 0.9108643206083561],
[7, 97.215373525, 2.7366271489146393e7, 0.1940691685062568, 0.910926455289566],
[8, 111.153091281, 2.736298147777179e7, 0.19401030169242306, 0.9108875981056551]
] 

wALL = [
[0, 0.0, 1.5787294622003922e8, 0.3439072847682103, 0.8245657592449451],
[1, 16.838782364, 7.884246681077342e7, 0.21435246504782995, 0.8994066741437412],
[2, 38.772525341000005, 6.53191813175356e7, 0.19364974245769162, 0.9108583532659081],
[3, 60.673207007, 6.300950680772695e7, 0.19218910963944255, 0.9115223240518884],
[4, 83.067443064, 6.214459702054203e7, 0.19168874172185638, 0.9120519797784649],
[5, 105.110683809, 6.171943619489321e7, 0.19194260485651438, 0.9119003852860007],
[6, 126.920255505, 6.1473324943159536e7, 0.191839587932305, 0.9118454939158542],
[7, 148.762825883, 6.131631733600023e7, 0.19175864606328355, 0.9121058940098972],
[8, 170.84200051300002, 6.1209042315050095e7, 0.19194260485651402, 0.9119736964341848],
[9, 192.42396462000002, 6.1131670408168614e7, 0.19198675496688936, 0.9118639407079202],
[10, 214.220929836, 6.107335802305245e7, 0.19181751287711704, 0.9118319020374701],
[11, 236.16476743700002, 6.102781495209712e7, 0.1919941133186177, 0.91177859167287],
[12, 257.985821514, 6.099127376729465e7, 0.19183222958057503, 0.911746843525433],
[13, 279.832830081, 6.096134034804364e7, 0.19186166298749197, 0.9116078098221316],
[14, 301.803465121, 6.0936437535933316e7, 0.19174760853568948, 0.9116751841847669],
[15, 323.71840784899996, 6.091546304951068e7, 0.19172553348050198, 0.9115737781538961],
[16, 345.473301641, 6.089760784523864e7, 0.19179543782192943, 0.9116615178786341],
[17, 367.401599202, 6.088227555795707e7, 0.19186534216335674, 0.9115485400982012],
[18, 388.885892918, 6.086897686554469e7, 0.19189109639440916, 0.9115585579429742],
[19, 410.55149805400004, 6.085734292784582e7, 0.19191685062546143, 0.911523775681522],
[20, 432.270498281, 6.0847075482866235e7, 0.1918064753495232, 0.911598909976668]
]

import numpy as np
import matplotlib.pyplot as plt

c100 = np.array(c100)
c200 = np.array(c200)
cALL = np.array(cALL)
w100 = np.array(w100)
w200 = np.array(w200)
wALL = np.array(wALL)

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,3], 'c:', linewidth=2, label='Primal-CR++ 1 core, 100 ratings/user')
ax.plot(w200[:,1], w200[:,3], 'k--', linewidth=2, label='Primal-CR++ 1 core, 200 ratings/user')
ax.plot(wALL[:,1], wALL[:,3], 'r', linewidth=2, label='Primal-CR++ 1 core, ALL ratings/user')
ax.plot(c100[:,1], c100[:,3], 'g-.', linewidth=2, label='Collrank 1 core, 100 ratings/user')
ax.plot(c200[:,1], c200[:,3], 'k-o', linewidth=2, label='Collrank 1 core, 200 ratings/user')
ax.plot(cALL[:,1], cALL[:,3], 'b--p', linewidth=2, label='Collrank 1 core, ALL ratings/user')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 600, 0.15, 0.4])
legend = ax.legend(loc='upper right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,4], 'c:', linewidth=2, label='Primal-CR++ 1 core, 100 ratings/user')
ax.plot(w200[:,1], w200[:,4], 'k--', linewidth=2, label='Primal-CR++ 1 core, 200 ratings/user')
ax.plot(wALL[:,1], wALL[:,4], 'r', linewidth=2, label='Primal-CR++ 1 core, ALL ratings/user')
ax.plot(c100[:,1], c100[:,4], 'g-.', linewidth=2, label='Collrank 1 core, 100 ratings/user')
ax.plot(c200[:,1], c200[:,4], 'k-o', linewidth=2, label='Collrank 1 core, 200 ratings/user')
ax.plot(cALL[:,1], cALL[:,4], 'b--p', linewidth=2, label='Collrank 1 core, ALL ratings/user')
ax.set_title('MovieLens1m', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 600, 0.8, 0.92])
legend = ax.legend(loc='lower right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()


# 32
# Varies number of ratings per user in training data, Netflix, rank 100, lambda = 10000
c100 = [
[0, 1.274959, 1635174715.547165, 0.339939, 0.825891],
[1, 2807.470494, 868787330.687747, 0.225250, 0.892637],                     
[2, 5554.104146, 795659496.482044, 0.234046, 0.888513],
[3, 8607.687557, 732703565.288253, 0.216630, 0.896561],
[4, 11901.939931, 710332987.516510, 0.209245, 0.900613],
[5, 14734.732480, 703181474.609954, 0.205986, 0.902742],
[6, 17366.548233, 700713198.083876, 0.204636, 0.903635],
[7, 20385.580057, 699631644.369112, 0.204090, 0.904008],
[8, 23081.678142, 699074627.594937, 0.203787, 0.904243],
[9, 25485.699891, 698752340.723302, 0.203606, 0.904369],
[10, 27929.151799, 698546084.830698, 0.203480, 0.904455],
[11, 30020.061861, 698402340.615283, 0.203380, 0.904545],
[12, 32506.663296, 698295382.975316, 0.203314, 0.904579],
[13, 34993.688304, 698211902.974625, 0.203268, 0.904612],
[14, 37532.731992, 698144493.763829, 0.203228, 0.904625],
[15, 39855.287526, 698088682.372773, 0.203203, 0.904634],
[16, 42079.879791, 698041583.227723, 0.203175, 0.904660],
[17, 44222.657203, 698001228.936872, 0.203161, 0.904678],
[18, 46354.786117, 697966229.709076, 0.203152, 0.904695],
[19, 48555.542909, 697935561.696252, 0.203138, 0.904699],
[20, 50912.510595, 697908455.898839, 0.203128, 0.904703]
]

w100 = [
[0, 0.0, 3.104201227569089e9, 0.3370612503920339, 0.8270589295773721],
[1, 758.026451365, 9.093292182638285e8, 0.29012108362551114, 0.8576318383846491],
[2, 1268.0814532959998, 8.00226565290458e8, 0.23400124426922872, 0.8870006022851462],
[3, 2059.2630297709998, 7.176166101462697e8, 0.2129542963359061, 0.8983048123936501],
[4, 3002.9207869469997, 7.049530811673784e8, 0.20759063451044324, 0.9015187613999887],
[5, 3890.9395423379997, 7.015522170969367e8, 0.20555320160145027, 0.9029076858954467],
[6, 4758.6520451629995, 7.001888827865567e8, 0.20455831726035315, 0.9035942382110752],
[7, 5654.87765668, 6.995050762360861e8, 0.2040340639622298, 0.9039798835206194],
[8, 6553.0171319949995, 6.991028590313526e8, 0.20377398538541236, 0.9041674278681452],
[9, 7434.138969729999, 6.988378129745476e8, 0.20358747781938238, 0.9043112680114105],
[10, 8338.437400457, 6.986487550853585e8, 0.20347028552960447, 0.9044160013926187],
[11, 9244.082906137, 6.985062084719335e8, 0.2033754890428223, 0.9044747421316338],
[12, 10117.825817495, 6.983943717379775e8, 0.20330489704621035, 0.9045164097743379],
[13, 11044.356690179, 6.983040067704418e8, 0.20326053101367558, 0.9045529919037154],
[14, 12090.212733668, 6.982293240182358e8, 0.20321690973468354, 0.9045911511553993],
[15, 12952.93979126, 6.98166489961615e8, 0.2031833426285324, 0.904611314451005],
[16, 13910.005332781, 6.981128524339632e8, 0.2031514778161961, 0.9046360211169883],
[17, 14889.09199142, 6.980665106509316e8, 0.20312604980234533, 0.9046459015852302],
[18, 16010.450114395, 6.980260622726946e8, 0.20310647342348004, 0.9046471996449771],
[19, 16921.457602045, 6.979904472035501e8, 0.20306801222261303, 0.9046810732974607]
]


w200 = [
[0, 0.0, 4.894810611395171e9, 0.3370612503920339, 0.8270589295773721],
[1, 1201.834533829, 2.6468084386407547e9, 0.2730893148332908, 0.8664332066131606],
[2, 2564.700072341, 1.817370074143698e9, 0.20590584240442236, 0.9032877662694269],
[3, 3932.2804997780004, 1.6665412842800245e9, 0.19871710882330268, 0.9068498552375643],
[4, 5293.911205403, 1.6377881305159297e9, 0.19648455048584182, 0.9081371849432358],
[5, 6728.925144472, 1.625909694076408e9, 0.19508755242780018, 0.908978775944693],
[6, 8371.963787394001, 1.619540550616677e9, 0.19427188770733844, 0.9095376768085387],
[7, 9949.67377662, 1.6156447694178586e9, 0.1937352395823809, 0.9098594249514425],
[8, 11584.961352919001, 1.6130230404952729e9, 0.19331232596289089, 0.9101331564259769],
[9, 13068.64561664, 1.6111268524169197e9, 0.19301729716619864, 0.9103096785824207],
[10, 14706.325626743, 1.6096803522707474e9, 0.1928274382092223, 0.9104305325871601],
[11, 16247.511652442001, 1.608533646980944e9, 0.19263619613852248, 0.9105564041121083],
[12, 17833.133500451, 1.607597989647959e9, 0.19247878715738087, 0.9106581489032006],
[13, 19801.537467950002, 1.606818441496636e9, 0.19238654411131717, 0.9107265980375384],
[14, 21460.575237926, 1.6061579681746132e9, 0.19229440745861842, 0.9107955468399366],
[15, 23172.040638728, 1.6055907197268877e9, 0.19221940013742492, 0.9108191755970455],
[16, 24770.672910693003, 1.6050980061416028e9, 0.1921481165839511, 0.9108668219067519],
[17, 26261.263203431005, 1.6046660131736488e9, 0.19207598188357014, 0.9108887102549499],
[18, 27708.735937059006, 1.6042840120646782e9, 0.19201858266401978, 0.9109292831372792],
[19, 29266.136398901006, 1.6039438983502939e9, 0.1919792171195635, 0.910960107333119],
[20, 30834.269576062004, 1.603639071675467e9, 0.19193623420075293, 0.9109760889564307]
]

wALL = [
[0, 0.0, 2.356595104129865e10, 0.3370612503920339, 0.8270589295773721],
[1, 2499.885308779, 1.6324162774318296e10, 0.22614095577836765, 0.8886723885212457],
[2, 5250.87474531, 1.3025803043487682e10, 0.1877387500314601, 0.9136425337809746],
[3, 8160.924571495, 1.1778353292392849e10, 0.18249403598627645, 0.9172065764009472],
[4, 11380.820924098, 1.1018778442620384e10, 0.18120268653808402, 0.9179732407004433],
[5, 14674.481246448999, 1.0545434187009039e10, 0.18101612577537243, 0.9179751413029557],
[6, 18255.075888412, 1.025888650835699e10, 0.18078195398254132, 0.9179876298968539],
[7, 22074.053607002003, 1.0086572803773872e10, 0.18040409795244608, 0.9181322996904195],
[8, 25538.717298915002, 9.9865942114101e9, 0.1799277216678528, 0.918314043228471],
[9, 29059.421223192003, 9.92513327278634e9, 0.17936389003854544, 0.9185964815364844],
[10, 32603.842698897002, 9.886969630285072e9, 0.1788479354227679, 0.9188131593296129],
[11, 36168.887194635005, 9.862409907213083e9, 0.1783948592847544, 0.9189982722282358],
[12, 39798.48870109401, 9.845824196182339e9, 0.1780580178962504, 0.9191445667771945],
[13, 43278.41008933801, 9.833859352672144e9, 0.17779022580058873, 0.9192893622851377],
[14, 46752.05349975701, 9.82510948246215e9, 0.17757068309522525, 0.9193833806925121],
[15, 50140.16150676201, 9.818303883338533e9, 0.17742593492432648, 0.9194488599538777],
[16, 53218.14192400001, 9.813047114353287e9, 0.17731001935490964, 0.9194961670610905],
[17, 56150.47009293401, 9.808912481426762e9, 0.17722825605514048, 0.9195381811092159],
[18, 58976.56752180201, 9.805412520747524e9, 0.1771379280896191, 0.9195799692108445],
[19, 61979.792207157014, 9.802534064433802e9, 0.1770812204269294, 0.9196039972127603],
[20, 64837.34793703201, 9.799622915674614e9, 0.17701701203212108, 0.9196344589557544]
]



mfALL = [
[0, 0.0, 1.0820513268642105e10, 0.3369349082730013, 0.8271599665394446, 10.756143712196062, 10.715371764598883],
[150000000, 1474.9481086974108, 1.0062142868755496e8, 0.273050747239061, 0.8626420631391335, 1.0202390212199424, 1.3532555939836761],
[300000000, 2902.2053070896172, 8.76623358883187e7, 0.2562402234460313, 0.872913907113734, 0.95360787552177, 1.1457890391808314],
[450000000, 4268.061255678971, 8.24404472170688e7, 0.24472824874007745, 0.8789741229868626, 0.9260419238701609, 1.074983146535687],
[600000000, 5419.428540007789, 7.969814905262403e7, 0.23537472939397752, 0.884124406878015, 0.9115573974938576, 1.0356883830123846],
[750000000, 6800.557370147077, 7.796908294865061e7, 0.2277042466634021, 0.8884464463084923, 0.902460436971328, 1.0114098830567992],
[900000000, 8055.310546170015, 7.698795425172144e7, 0.2235753862134939, 0.8908764692425557, 0.8974751748746713, 0.996054280451639],
[1050000000, 9121.614689291135, 7.608236649029967e7, 0.21934577124844634, 0.893408496730263, 0.8927523569317151, 0.9842182182101936],
[1200000000, 10190.382449864706, 7.533479895585981e7, 0.21565791128980474, 0.8954935699896797, 0.8888329107410734, 0.9751244079121969],
[1350000000, 11257.32673471777, 7.472676116102083e7, 0.21272278437717204, 0.8970438516822026, 0.8856453145313539, 0.9680082248124997],
[1500000000, 12383.930453323886, 7.417265375141998e7, 0.21012593516345218, 0.8986329139065427, 0.8827030426667203, 0.9619518058836507],
[1650000000, 13426.339735836418, 7.367880475057697e7, 0.2081821284142407, 0.8998671690583662, 0.8800602641349287, 0.9565141880182347],
[2250000000, 17600.108338933052, 7.251155157206923e7, 0.20209472573429474, 0.903682074844845, 0.8739607117689886, 0.9432038248267769],
[2400000000, 18606.703500380412, 7.241090679862909e7, 0.20119203124257604, 0.9039176604347596, 0.8735272469277712, 0.9418824111733088]
]

c100 = np.array(c100)
w100 = np.array(w100)
w200 = np.array(w200)
wALL = np.array(wALL)
mfALL = np.array(mfALL)

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,4], 'k-.', linewidth=2, label='Primal-CR++ 1 core, 100 ratings/user')
ax.plot(w200[:,1], w200[:,4], 'b--', linewidth=2, label='Primal-CR++ 1 core, 200 ratings/user')
ax.plot(wALL[:,1], wALL[:,4], 'r', linewidth=2, label='Primal-CR++ 1 core, ALL ratings/user')
ax.plot(c100[:,1], c100[:,4], 'g--o', linewidth=2, label='Collrank 1 core, 100 ratings/user')
ax.plot(mfALL[:,1], mfALL[:,4], 'c:', linewidth=2, label='MF 1 core, ALL ratings/user')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('NDCG@10', fontsize=18)
ax.axis([0, 20000, 0.8, 0.95])
legend = ax.legend(loc='lower right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,3], 'k-.', linewidth=2, label='Primal-CR++ 1 core, 100 ratings/user')
ax.plot(w200[:,1], w200[:,3], 'b--', linewidth=2, label='Primal-CR++ 1 core, 200 ratings/user')
ax.plot(wALL[:,1], wALL[:,3], 'r', linewidth=2, label='Primal-CR++ 1 core, ALL ratings/user')
ax.plot(c100[:,1], c100[:,3], 'g--o', linewidth=2, label='Collrank 1 core, 100 ratings/user')
ax.set_title('Netflix', fontsize=18)
ax.set_xlabel('Time (seconds)', fontsize=18)
ax.set_ylabel('Pairwise_Error', fontsize=18)
ax.axis([0, 20000, 0.15, 0.4])
legend = ax.legend(loc='upper right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()



