# bug 4: upodating V is much slower than U.
julia> main(x, y, v, xx, yy, vv)
iter time objective_function pairwise_error NDCG
[0, 0.0, 1.35254078290573e9, 0.3386869962037399, 0.51001231645952],
 20.288030 seconds (44.25 M allocations: 19.961 GB, 11.97% gc time)
 10.503474 seconds (1.21 M allocations: 95.795 MB, 1.29% gc time)
105.625845 seconds (1.03 M allocations: 1.410 GB, 1.67% gc time)
  5.800917 seconds (2.32 k allocations: 134.891 KB)
163.621776 seconds (90.76 M allocations: 41.454 GB, 4.19% gc time)
 18.644361 seconds (36.75 k allocations: 1.251 MB)
[1, 182.266582286, 7.378791325045455e8, 0.2843962453208697, 0.6266131453552021],
 15.384335 seconds (44.24 M allocations: 19.961 GB, 17.21% gc time)
 10.817484 seconds (1.69 M allocations: 118.220 MB, 1.50% gc time)
 51.384938 seconds (24.24 k allocations: 679.390 MB, 1.24% gc time)
  5.857298 seconds (2.29 k allocations: 133.078 KB)
104.896643 seconds (90.20 M allocations: 40.728 GB, 5.82% gc time)
 37.493119 seconds (3.32 k allocations: 215.891 KB)
[2, 324.656858749, 5.568963804190776e8, 0.21105410110005257, 0.7682393821987168],
 15.460291 seconds (44.24 M allocations: 19.961 GB, 18.06% gc time)
  9.186192 seconds (4.30 k allocations: 40.950 MB)
 84.199047 seconds (39.57 k allocations: 1.062 GB, 1.97% gc time)
  5.615146 seconds (2.32 k allocations: 135.234 KB)
135.266658 seconds (88.53 M allocations: 41.050 GB, 5.01% gc time)
 43.131298 seconds (3.34 k allocations: 216.719 KB)

1. increase lambda value
2. parallize comp_m part

1. increase lambda from 5000 to 10000, tried 50000, 500000, 100000 but too large
[0, 0.0, 7.52884943792477e8, 0.3386869962037399, 0.51001231645952],
[1, 92.346668162, 7.407837509367113e8, 0.27890348588607516, 0.6863535527578548],
[2, 185.884260333, 7.012608815153615e8, 0.233754625044993, 0.7319836742108897],
[3, 357.601838043, 6.363179706682967e8, 0.20721060459564067, 0.7721635211462629],
[4, 533.691827159, 6.225427028694689e8, 0.1980149162650175, 0.7888572215492473],
[5, 713.290523711, 6.180153375260504e8, 0.19451512234717214, 0.7958129821052474],
[6, 882.093445553, 6.163142122043158e8, 0.19283603396874158, 0.7998143548356699],
[7, 1048.39981198, 6.155179105987415e8, 0.19191719168711138, 0.8021332859543732],
[8, 1218.452633892, 6.150887357635736e8, 0.19137940005115786, 0.8035799332133216],
[9, 1383.3797947799999, 6.148304458707273e8, 0.19103967835057112, 0.8045969486115537],
[10, 1540.953303828, 6.146608157881465e8, 0.19081757588074374, 0.8052988072264833],
[11, 1699.5043361219998, 6.145416427124792e8, 0.19066616438810574, 0.8057579246027731],
[12, 1862.4319072439998, 6.144535614715825e8, 0.19055373586330832, 0.8061334689359873],
[13, 2021.270500038, 6.143859327967324e8, 0.19047657152046574, 0.8063979899705366],
[14, 2173.303966701, 6.14332465454256e8, 0.19041717889366644, 0.8065813317683964],
[15, 2323.3082378149998, 6.14289187155273e8, 0.19037157056834922, 0.8067577693882371],
[16, 2475.479763501, 6.142534639990865e8, 0.19033824780526784, 0.8068934764829679],
[17, 2623.152461504, 6.142234817176285e8, 0.19030449244274258, 0.8069751003917299],
[18, 2776.5621291479997, 6.141979538744576e8, 0.19027919376338956, 0.8070639113918169],
[19, 2929.751256398, 6.141759473914024e8, 0.19025819082138018, 0.8071408562419508],
[20, 3084.888545448, 6.141567723849266e8, 0.19024393591163163, 0.8072135465080796],


2. not sure how.....

function comp_m_parallel(U, V, X, d1, d2, rows, vals, cols, cc)


end	

function comp_m(U, V, X, d1, d2, rows, vals, cols)
	mvals = zeros(nnz(X))
	cc = 0
	for i = 1:d1
		tmp = nzrange(X,i)
		d2_bar = rows[tmp]
		ui = U[:,i]
		for j in d2_bar
			cc += 1
			mvals[cc] = dot(ui, V[:,j])
		end
	end
	return sparse(rows, cols, mvals, d2, d1), cc
end

function comp_m(U, V, X, d1, d2, rows, vals, cols)

	mvals = zeros(nnz(X))
	cc = 0
	for i = 1:d1
		tmp = nzrange(X,i)
		d2_bar = rows[tmp]
		ui = U[:,i]
		for j in d2_bar
			cc += 1
			mvals[cc] = dot(ui, V[:,j])
		end
	end
	return sparse(rows, cols, mvals, d2, d1), cc
end

