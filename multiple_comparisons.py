# split Movielens1m into N = 10, 20, 50, 100, ALL



c100 = [
[0, 0.026573, 20493766.354429, 0.347550, 0.821455],
[1, 21.240566, 11943636.097843, 0.223105, 0.894959],
[2, 43.370973, 11872038.989402, 0.232038, 0.890045],
[3, 67.226583, 11844740.201489, 0.232561, 0.889787],
[4, 91.574483, 11839794.391866, 0.230802, 0.890671],
[5, 119.784221, 11839396.612699, 0.230434, 0.890852],
[6, 144.977448, 11839361.110977, 0.230401, 0.890891]
]

c200 = [
[0, 0.035494, 40826353.117932, 0.345754, 0.826788],
[1, 60.309774, 28323496.740011, 0.215710, 0.896729],
[2, 122.656092, 28188142.654277, 0.215559, 0.896964],
[3, 183.390610, 27948317.668610, 0.209047, 0.901554],
[4, 247.419412, 27684736.041036, 0.203113, 0.904810],
[5, 308.719500, 27521864.755220, 0.198385, 0.907726],
[6, 370.647689, 27449817.679593, 0.196115, 0.909600],
[7, 429.326140, 27413645.838018, 0.195081, 0.910184],
[8, 488.620936, 27392920.616412, 0.194643, 0.910704],
[9, 545.980129, 27380481.056378, 0.194437, 0.911137],
[10, 606.212148, 27373129.215408, 0.194415, 0.911045],
[11, 666.625563, 27368633.412996, 0.194294, 0.911080]
]

cALL = [
[0, 0.027514, 138708145.906208, 0.339713, 0.827200],
[1, 277.584344, 87315833.848825, 0.210530, 0.898999],
[2, 568.460727, 81292677.328884, 0.199047, 0.907602],
[3, 882.662012, 72425778.869140, 0.202351, 0.906175],
[4, 1245.207071, 62144180.668596, 0.193385, 0.910424]
]

# 1 core



w100 = [
[0, 0.0, 3.734650223682237e7, 0.3439072847682103, 0.8245657592449451],
[1, 4.654531746, 1.2408633140403587e7, 0.28536423841059505, 0.8675941516746746],
[2, 9.162732944, 1.2102989838173248e7, 0.2333112582781459, 0.8907663741739291],
[3, 14.417036667, 1.191705365677037e7, 0.2357468727005149, 0.8886259270528043],
[4, 19.689413762, 1.1846436418400146e7, 0.2317071376011774, 0.8903705804923184],
[5, 25.60725453, 1.184002390268666e7, 0.23023546725533509, 0.890924638031281],
[6, 31.60608589, 1.1839523268606711e7, 0.22984547461368657, 0.891232192486661],
[7, 37.494323, 1.1839457487330996e7, 0.22977924944812378, 0.891276834793897],
[8, 43.210875902, 1.183943757280106e7, 0.22978660779985305, 0.8912972503142647],
[9, 48.406863011, 1.183942709861049e7, 0.22984179543782232, 0.891251795694114],
[10, 53.020790988, 1.1839419914672384e7, 0.22989698307579148, 0.891205032734546],
[11, 57.379368331, 1.183941425736879e7, 0.22993745401030213, 0.8911554844631295]
]

w200 = [
[0, 0.0, 5.8049616055231035e7, 0.3439072847682103, 0.8245657592449451],
[1, 9.757336744, 3.213352531497197e7, 0.25478660779985257, 0.8820313019224842],
[2, 22.40471945, 2.7826690976597395e7, 0.20522442972774235, 0.9044514335780212],
[3, 37.529653654, 2.7475783963489532e7, 0.1972663723325992, 0.9089250682846542],
[4, 52.216685983000005, 2.740663684749367e7, 0.19531272994849364, 0.9101369495572795],
[5, 67.006075983, 2.7382775369273018e7, 0.19443708609271718, 0.9107035921052952],
[6, 82.119501903, 2.7371949167126328e7, 0.1942126563649764, 0.9108643206083561],
[7, 97.215373525, 2.7366271489146393e7, 0.1940691685062568, 0.910926455289566],
[8, 111.153091281, 2.736298147777179e7, 0.19401030169242306, 0.9108875981056551]
] 

wALL = [
[0, 0.0, 1.5787294622003922e8, 0.3439072847682103, 0.8245657592449451],
[1, 16.838782364, 7.884246681077342e7, 0.21435246504782995, 0.8994066741437412],
[2, 38.772525341000005, 6.53191813175356e7, 0.19364974245769162, 0.9108583532659081],
[3, 60.673207007, 6.300950680772695e7, 0.19218910963944255, 0.9115223240518884],
[4, 83.067443064, 6.214459702054203e7, 0.19168874172185638, 0.9120519797784649],
[5, 105.110683809, 6.171943619489321e7, 0.19194260485651438, 0.9119003852860007],
[6, 126.920255505, 6.1473324943159536e7, 0.191839587932305, 0.9118454939158542],
[7, 148.762825883, 6.131631733600023e7, 0.19175864606328355, 0.9121058940098972],
[8, 170.84200051300002, 6.1209042315050095e7, 0.19194260485651402, 0.9119736964341848],
[9, 192.42396462000002, 6.1131670408168614e7, 0.19198675496688936, 0.9118639407079202],
[10, 214.220929836, 6.107335802305245e7, 0.19181751287711704, 0.9118319020374701],
[11, 236.16476743700002, 6.102781495209712e7, 0.1919941133186177, 0.91177859167287],
[12, 257.985821514, 6.099127376729465e7, 0.19183222958057503, 0.911746843525433],
[13, 279.832830081, 6.096134034804364e7, 0.19186166298749197, 0.9116078098221316],
[14, 301.803465121, 6.0936437535933316e7, 0.19174760853568948, 0.9116751841847669],
[15, 323.71840784899996, 6.091546304951068e7, 0.19172553348050198, 0.9115737781538961],
[16, 345.473301641, 6.089760784523864e7, 0.19179543782192943, 0.9116615178786341],
[17, 367.401599202, 6.088227555795707e7, 0.19186534216335674, 0.9115485400982012],
[18, 388.885892918, 6.086897686554469e7, 0.19189109639440916, 0.9115585579429742],
[19, 410.55149805400004, 6.085734292784582e7, 0.19191685062546143, 0.911523775681522],
[20, 432.270498281, 6.0847075482866235e7, 0.1918064753495232, 0.911598909976668]
]

import numpy as np
import matplotlib.pyplot as plt

c100 = np.array(c100)
c200 = np.array(c200)
cALL = np.array(cALL)
w100 = np.array(w100)
w200 = np.array(w200)
wALL = np.array(wALL)

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,3], 'y', label='primal++, 100 ratings/user, ')
ax.plot(w200[:,1], w200[:,3], 'm', label='primal++, 200 ratings/user, ')
ax.plot(wALL[:,1], wALL[:,3], 'r', label='primal++, ALL ratings/user, ')
ax.plot(c100[:,1], c100[:,3], 'g', label='Collrank, 100 ratings/user, ')
ax.plot(c200[:,1], c200[:,3], 'k', label='Collrank, 200 ratings/user, ')
ax.plot(cALL[:,1], cALL[:,3], 'b', label='Collrank, ALL ratings/user, ')
ax.set_title('Movielens1m, rank 100, lambda = 5000')
ax.set_xlabel('Time')
ax.set_ylabel('Pairwise_Error')
ax.axis([0, 600, 0.15, 0.4])
legend = ax.legend(loc='upper right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()


fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,4], 'y', label='primal++, 100 ratings/user, ')
ax.plot(w200[:,1], w200[:,4], 'm', label='primal++, 200 ratings/user, ')
ax.plot(wALL[:,1], wALL[:,4], 'r', label='primal++, ALL ratings/user, ')
ax.plot(c100[:,1], c100[:,4], 'g', label='Collrank, 100 ratings/user, ')
ax.plot(c200[:,1], c200[:,4], 'k', label='Collrank, 200 ratings/user, ')
ax.plot(cALL[:,1], cALL[:,4], 'b', label='Collrank, ALL ratings/user, ')
ax.set_title('Movielens1m, rank 100, lambda = 5000')
ax.set_xlabel('Time')
ax.set_ylabel('NDCG')
ax.axis([0, 600, 0.8, 0.95])
legend = ax.legend(loc='lower right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()



# netflix 
c100 = [
[0, 1.274959, 1635174715.547165, 0.339939, 0.825891],
[1, 2807.470494, 868787330.687747, 0.225250, 0.892637],                     
[2, 5554.104146, 795659496.482044, 0.234046, 0.888513],                                                                     [3, 8607.687557, 732703565.288253, 0.216630, 0.896561],                                              [4, 11901.939931, 710332987.516510, 0.209245, 0.900613],
[5, 14734.732480, 703181474.609954, 0.205986, 0.902742]
]

w100 = [
[0, 0.0, 3.104201227569089e9, 0.3370612503920339, 0.8270589295773721],
[1, 758.026451365, 9.093292182638285e8, 0.29012108362551114, 0.8576318383846491],
[2, 1268.0814532959998, 8.00226565290458e8, 0.23400124426922872, 0.8870006022851462],
[3, 2059.2630297709998, 7.176166101462697e8, 0.2129542963359061, 0.8983048123936501],
[4, 3002.9207869469997, 7.049530811673784e8, 0.20759063451044324, 0.9015187613999887],
[5, 3890.9395423379997, 7.015522170969367e8, 0.20555320160145027, 0.9029076858954467],
[6, 4758.6520451629995, 7.001888827865567e8, 0.20455831726035315, 0.9035942382110752],
[7, 5654.87765668, 6.995050762360861e8, 0.2040340639622298, 0.9039798835206194],
[8, 6553.0171319949995, 6.991028590313526e8, 0.20377398538541236, 0.9041674278681452],
[9, 7434.138969729999, 6.988378129745476e8, 0.20358747781938238, 0.9043112680114105],
[10, 8338.437400457, 6.986487550853585e8, 0.20347028552960447, 0.9044160013926187],
[11, 9244.082906137, 6.985062084719335e8, 0.2033754890428223, 0.9044747421316338],
[12, 10117.825817495, 6.983943717379775e8, 0.20330489704621035, 0.9045164097743379],
[13, 11044.356690179, 6.983040067704418e8, 0.20326053101367558, 0.9045529919037154],
[14, 12090.212733668, 6.982293240182358e8, 0.20321690973468354, 0.9045911511553993],
[15, 12952.93979126, 6.98166489961615e8, 0.2031833426285324, 0.904611314451005],
[16, 13910.005332781, 6.981128524339632e8, 0.2031514778161961, 0.9046360211169883],
[17, 14889.09199142, 6.980665106509316e8, 0.20312604980234533, 0.9046459015852302],
[18, 16010.450114395, 6.980260622726946e8, 0.20310647342348004, 0.9046471996449771],
[19, 16921.457602045, 6.979904472035501e8, 0.20306801222261303, 0.9046810732974607]
]


w200 = [
[0, 0.0, 4.894810611395171e9, 0.3370612503920339, 0.8270589295773721],
[1, 1201.834533829, 2.6468084386407547e9, 0.2730893148332908, 0.8664332066131606],
[2, 2564.700072341, 1.817370074143698e9, 0.20590584240442236, 0.9032877662694269],
[3, 3932.2804997780004, 1.6665412842800245e9, 0.19871710882330268, 0.9068498552375643],
[4, 5293.911205403, 1.6377881305159297e9, 0.19648455048584182, 0.9081371849432358],
[5, 6728.925144472, 1.625909694076408e9, 0.19508755242780018, 0.908978775944693],
[6, 8371.963787394001, 1.619540550616677e9, 0.19427188770733844, 0.9095376768085387],
[7, 9949.67377662, 1.6156447694178586e9, 0.1937352395823809, 0.9098594249514425],
[8, 11584.961352919001, 1.6130230404952729e9, 0.19331232596289089, 0.9101331564259769],
[9, 13068.64561664, 1.6111268524169197e9, 0.19301729716619864, 0.9103096785824207],
[10, 14706.325626743, 1.6096803522707474e9, 0.1928274382092223, 0.9104305325871601],
[11, 16247.511652442001, 1.608533646980944e9, 0.19263619613852248, 0.9105564041121083]
]

wALL = [
[0, 0.0, 2.356595104129865e10, 0.3370612503920339, 0.8270589295773721],
[1, 2499.885308779, 1.6324162774318296e10, 0.22614095577836765, 0.8886723885212457],
[2, 5250.87474531, 1.3025803043487682e10, 0.1877387500314601, 0.9136425337809746],
[3, 8160.924571495, 1.1778353292392849e10, 0.18249403598627645, 0.9172065764009472],
[4, 11380.820924098, 1.1018778442620384e10, 0.18120268653808402, 0.9179732407004433],
[5, 14674.481246448999, 1.0545434187009039e10, 0.18101612577537243, 0.9179751413029557]
]
import numpy as np
import matplotlib.pyplot as plt

c100 = np.array(c100)
w100 = np.array(w100)
w200 = np.array(w200)
wALL = np.array(wALL)

fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,3], 'y', label='primal++, 100 ratings/user, ')
ax.plot(w200[:,1], w200[:,3], 'm', label='primal++, 200 ratings/user, ')
ax.plot(wALL[:,1], wALL[:,3], 'r', label='primal++, ALL ratings/user, ')
ax.plot(c100[:,1], c100[:,3], 'g', label='Collrank, 100 ratings/user, ')
ax.set_title('Netflix, rank 100, lambda = 10000')
ax.set_xlabel('Time')
ax.set_ylabel('Pairwise_Error')
ax.axis([0, 14000, 0.15, 0.4])
legend = ax.legend(loc='upper right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()


fig, ax = plt.subplots()
ax.plot(w100[:,1], w100[:,4], 'y', label='primal++, 100 ratings/user, ')
ax.plot(w200[:,1], w200[:,4], 'm', label='primal++, 200 ratings/user, ')
ax.plot(wALL[:,1], wALL[:,4], 'r', label='primal++, ALL ratings/user, ')
ax.plot(c100[:,1], c100[:,4], 'g', label='Collrank, 100 ratings/user, ')
ax.plot(c200[:,1], c200[:,4], 'k', label='Collrank, 200 ratings/user, ')
ax.plot(cALL[:,1], cALL[:,4], 'b', label='Collrank, ALL ratings/user, ')
ax.set_title('Netflix, rank 100, lambda = 10000')
ax.set_xlabel('Time')
ax.set_ylabel('NDCG')
ax.axis([0, 14000, 0.8, 0.95])
legend = ax.legend(loc='lower right', shadow=True)
frame = legend.get_frame()
frame.set_facecolor('0.90')
plt.show()
